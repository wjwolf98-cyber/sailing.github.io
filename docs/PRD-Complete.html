<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>品牌保护生态系统 - 完整产品需求文档</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
            line-height: 1.8;
            color: #333;
            background: #f5f7fa;
            padding: 20px;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 2px 12px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 8px 8px 0 0;
        }
        .header h1 { font-size: 36px; margin-bottom: 10px; }
        .header .subtitle { font-size: 18px; opacity: 0.9; }
        .header .meta { margin-top: 20px; font-size: 14px; opacity: 0.8; }
        .nav {
            position: sticky;
            top: 0;
            background: white;
            border-bottom: 2px solid #e8e8e8;
            padding: 15px 40px;
            z-index: 100;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        .nav a {
            color: #666;
            text-decoration: none;
            padding: 5px 12px;
            border-radius: 4px;
            transition: all 0.3s;
            font-size: 14px;
        }
        .nav a:hover { background: #667eea; color: white; }
        .content { padding: 40px; }
        .section { margin-bottom: 50px; }
        h2 {
            font-size: 28px;
            color: #667eea;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }
        h3 { font-size: 22px; color: #764ba2; margin: 30px 0 15px 0; }
        h4 { font-size: 18px; color: #555; margin: 20px 0 10px 0; }
        h5 { font-size: 16px; color: #666; margin: 15px 0 8px 0; font-weight: 600; }
        p { margin-bottom: 15px; text-align: justify; }
        ul, ol { margin: 15px 0 15px 30px; }
        li { margin-bottom: 8px; }
        .req-box {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin: 20px 0;
            border-radius: 4px;
        }
        .req-box h5 { margin-top: 0; color: #667eea; }
        .req-item { margin-bottom: 12px; }
        .req-label {
            display: inline-block;
            min-width: 100px;
            font-weight: 600;
            color: #555;
        }
        .highlight-box {
            background: #f0f4ff;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin: 20px 0;
            border-radius: 4px;
        }
        .warning-box {
            background: #fff7e6;
            border-left: 4px solid #faad14;
            padding: 20px;
            margin: 20px 0;
            border-radius: 4px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        th {
            background: #667eea;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }
        td {
            padding: 12px;
            border-bottom: 1px solid #e8e8e8;
        }
        tr:hover { background: #f5f7fa; }
        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            margin-right: 8px;
        }
        .badge-p0 { background: #fff1f0; color: #ff4d4f; }
        .badge-p1 { background: #fff7e6; color: #faad14; }
        .badge-p2 { background: #e6f7ff; color: #1890ff; }
        code {
            background: #f5f5f5;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            color: #e83e8c;
        }
        .footer {
            background: #f5f7fa;
            padding: 30px 40px;
            text-align: center;
            color: #666;
            border-radius: 0 0 8px 8px;
            border-top: 1px solid #e8e8e8;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>品牌保护生态系统</h1>
            <div class="subtitle">完整产品需求文档 (PRD)</div>
            <div class="meta">
                版本: v2.0 | 创建日期: 2024-01-01 | 维护团队: 产品+技术团队
            </div>
        </div>

        <div class="nav">
            <a href="#overview">项目概述</a>
            <a href="#system-mgmt">系统管理</a>
            <a href="#brand-mgmt">品牌管理</a>
            <a href="#inspection">巡查管理</a>
            <a href="#legal">法律服务</a>
            <a href="#expert">专家服务</a>
            <a href="#dispute">纠纷处理</a>
            <a href="#channel">渠道管理</a>
            <a href="#ai-service">AI服务</a>
            <a href="#data-analysis">数据分析</a>
            <a href="#mall">商城系统</a>
            <a href="#non-functional">非功能需求</a>
        </div>

        <div class="content">
            <!-- 项目概述 -->
            <div id="overview" class="section">
                <h2>1. 项目概述</h2>
                
                <h3>1.1 项目背景</h3>
                <p>随着品牌经济的快速发展，假冒伪劣商品问题日益严重，严重损害了品牌方的合法权益和消费者利益。传统的品牌保护手段存在效率低、成本高、取证难、维权难等问题。本系统旨在构建一个集品牌管理、市场巡查、法律服务、纠纷处理于一体的综合性品牌保护生态系统。</p>

                <h3>1.2 项目目标</h3>
                <ul>
                    <li><strong>提升效率</strong>：通过数字化、智能化手段，提升品牌保护工作效率60%以上</li>
                    <li><strong>降低成本</strong>：减少人工成本和时间成本，降低维权成本40%以上</li>
                    <li><strong>增强效果</strong>：提高假冒商品发现率和处理成功率，保护品牌价值</li>
                    <li><strong>优化体验</strong>：为品牌方、巡查员、律师等各方提供便捷的操作体验</li>
                    <li><strong>数据驱动</strong>：通过数据分析为品牌保护决策提供支持</li>
                </ul>

                <h3>1.3 用户角色</h3>
                <table>
                    <thead>
                        <tr>
                            <th>角色</th>
                            <th>职责</th>
                            <th>核心需求</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>系统管理员</strong></td>
                            <td>系统配置、用户管理、权限管理</td>
                            <td>高效的用户管理、灵活的权限配置、完善的日志审计</td>
                        </tr>
                        <tr>
                            <td><strong>生产商/代理商</strong></td>
                            <td>品牌管理、渠道管理、数据分析</td>
                            <td>便捷的品牌管理、实时的数据监控、全面的分析报表</td>
                        </tr>
                        <tr>
                            <td><strong>巡查部管理员</strong></td>
                            <td>任务管理、巡查员管理、报告审核</td>
                            <td>智能的任务分配、实时的进度监控、高效的审核流程</td>
                        </tr>
                        <tr>
                            <td><strong>巡查员</strong></td>
                            <td>执行巡查任务、采集证据、提交报告</td>
                            <td>清晰的任务指引、便捷的证据采集、简单的报告填写</td>
                        </tr>
                        <tr>
                            <td><strong>督导部/律师</strong></td>
                            <td>案件管理、法律文书、诉讼代理</td>
                            <td>完整的案件信息、AI文书生成、便捷的证据管理</td>
                        </tr>
                        <tr>
                            <td><strong>专家</strong></td>
                            <td>商品鉴定、出具报告</td>
                            <td>清晰的鉴定流程、专业的鉴定工具、规范的报告模板</td>
                        </tr>
                        <tr>
                            <td><strong>调解员/仲裁员</strong></td>
                            <td>纠纷调解、仲裁裁决</td>
                            <td>完整的案件材料、在线调解工具、规范的文书模板</td>
                        </tr>
                        <tr>
                            <td><strong>消费者</strong></td>
                            <td>购买商品、投诉举报、申请鉴定</td>
                            <td>正品保障、便捷投诉、快速鉴定</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- 系统管理模块 -->
            <div id="system-mgmt" class="section">
                <h2>2. 系统管理模块</h2>

                <h3>2.1 用户管理</h3>
                
                <div class="req-box">
                    <h5>需求ID: SYS-USER-001 <span class="badge badge-p0">P0</span></h5>
                    <div class="req-item">
                        <span class="req-label">功能描述:</span>
                        <span>提供用户的完整生命周期管理，包括创建、编辑、删除、启用/禁用、权限分配等功能。系统支持单个用户精细化管理和批量用户快速导入，确保用户信息的准确性和安全性。通过灵活的权限分配机制，实现不同角色用户的差异化管理，满足企业组织架构变化和人员流动的管理需求。</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">业务场景:</span>
                        <div style="margin-left: 100px;">
                            <p><strong>场景1 - 新员工入职：</strong>HR部门收到新员工入职通知后，系统管理员在系统中创建账号，填写员工基本信息（姓名、工号、手机号、邮箱），分配所属部门（如巡查部），指定角色（如巡查员），设置初始密码。员工收到账号信息后首次登录，系统强制要求修改密码，确保账号安全。</p>
                            <p><strong>场景2 - 员工离职：</strong>员工办理离职手续后，系统管理员不直接删除账号（保留历史操作记录用于审计），而是将账号状态设置为"禁用"，该员工立即无法登录系统。30天后如无异议，可彻底删除账号，系统自动检查该用户是否有未完成的任务或关联数据，如有则提示无法删除。</p>
                            <p><strong>场景3 - 批量导入：</strong>公司新设立分公司，需要一次性为50名员工开通账号。系统管理员下载Excel模板，按照模板格式填写所有员工信息，上传后系统自动校验数据（手机号格式、邮箱格式、用户名重复等），校验通过后批量创建账号，并自动发送账号信息到员工邮箱。</p>
                            <p><strong>场景4 - 角色调整：</strong>巡查员张三因工作表现优秀，晋升为巡查主管。系统管理员编辑张三的账号，将角色从"巡查员"调整为"巡查主管"，系统自动更新其权限，张三重新登录后即可看到主管专属的任务分配、报告审核等功能菜单。</p>
                        </div>
                    </div>
                    <div class="req-item">
                        <span class="req-label">功能清单:</span>
                        <ul style="margin-left: 100px;">
                            <li><strong>用户列表</strong>：展示所有用户，支持分页、搜索、筛选、排序</li>
                            <li><strong>新增用户</strong>：填写用户基本信息（用户名、姓名、手机号、邮箱、部门、角色）</li>
                            <li><strong>编辑用户</strong>：修改用户信息，支持修改部门、角色、状态</li>
                            <li><strong>删除用户</strong>：逻辑删除，保留历史数据</li>
                            <li><strong>批量导入</strong>：支持Excel/CSV格式批量导入用户</li>
                            <li><strong>批量导出</strong>：导出用户列表为Excel格式</li>
                            <li><strong>重置密码</strong>：管理员可重置用户密码为默认密码</li>
                            <li><strong>查看详情</strong>：查看用户详细信息、角色权限、操作日志</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">验收标准:</span>
                        <ul style="margin-left: 100px;">
                            <li>用户列表加载时间 < 1秒（1000条数据）</li>
                            <li>支持按用户名、姓名、手机号、部门、角色、状态筛选</li>
                            <li>批量导入支持10000条数据，处理时间 < 30秒</li>
                            <li>用户名、手机号、邮箱唯一性校验</li>
                            <li>删除用户前检查是否有关联数据</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">接口依赖:</span>
                        <ul style="margin-left: 100px;">
                            <li><code>POST /api/v1/users</code> - 创建用户</li>
                            <li><code>GET /api/v1/users</code> - 查询用户列表（支持分页、筛选）</li>
                            <li><code>GET /api/v1/users/{id}</code> - 查询用户详情</li>
                            <li><code>PUT /api/v1/users/{id}</code> - 更新用户信息</li>
                            <li><code>DELETE /api/v1/users/{id}</code> - 删除用户</li>
                            <li><code>POST /api/v1/users/import</code> - 批量导入用户</li>
                            <li><code>GET /api/v1/users/export</code> - 导出用户列表</li>
                            <li><code>PUT /api/v1/users/{id}/reset-password</code> - 重置密码</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">数据表:</span>
                        <span><code>sys_user</code>, <code>sys_user_role</code>, <code>sys_user_dept</code></span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">前置条件:</span>
                        <span>用户已登录且拥有用户管理权限（<code>system:user:*</code>）</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">异常处理:</span>
                        <ul style="margin-left: 100px;">
                            <li>用户名重复：提示"用户名已存在，请使用其他用户名"</li>
                            <li>手机号重复：提示"手机号已被使用"</li>
                            <li>邮箱格式错误：提示"请输入正确的邮箱格式"</li>
                            <li>删除失败：提示"该用户有关联数据，无法删除"</li>
                        </ul>
                    </div>
                </div>

                <h3>2.2 角色管理</h3>
                
                <div class="req-box">
                    <h5>需求ID: SYS-ROLE-001 <span class="badge badge-p0">P0</span></h5>
                    <div class="req-item">
                        <span class="req-label">功能描述:</span>
                        <span>提供角色的创建、编辑、删除、权限配置功能，支持RBAC（基于角色的访问控制）权限模型。系统通过角色将用户与权限解耦，实现权限的集中管理和灵活分配。支持菜单权限（控制可见菜单）、功能权限（控制操作按钮）、数据权限（控制数据范围）三个维度的精细化权限控制，满足复杂组织架构下的权限管理需求。</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">业务场景:</span>
                        <div style="margin-left: 100px;">
                            <p><strong>场景1 - 创建新角色：</strong>公司新设立"品牌经理"岗位，需要创建对应角色。系统管理员创建"品牌经理"角色，配置权限：可查看品牌管理、渠道管理、数据分析模块，可新增/编辑品牌信息，可查看但不能删除巡查报告，数据权限设置为"本部门及下级部门"。配置完成后，将该角色分配给相应员工。</p>
                            <p><strong>场景2 - 权限调整：</strong>因业务调整，"巡查员"角色需要新增"在线培训"功能权限。系统管理员编辑"巡查员"角色，在权限树中勾选"培训管理-在线学习"节点，保存后所有巡查员用户无需重新登录，刷新页面即可看到新增的培训菜单。</p>
                            <p><strong>场景3 - 角色复制：</strong>需要创建"高级巡查员"角色，其权限与"巡查员"基本相同，只是多了"报告审核"权限。系统管理员使用"复制角色"功能，基于"巡查员"角色创建"高级巡查员"，然后只需额外勾选"报告审核"权限即可，大大提高配置效率。</p>
                            <p><strong>场景4 - 数据权限隔离：</strong>华北区巡查主管只能看到华北区的数据，华南区巡查主管只能看到华南区的数据。系统管理员为"巡查主管"角色配置数据权限为"本部门及下级部门"，系统自动根据用户所属部门过滤数据，实现数据隔离。</p>
                        </div>
                    </div>
                    <div class="req-item">
                        <span class="req-label">功能清单:</span>
                        <ul style="margin-left: 100px;">
                            <li><strong>角色列表</strong>：展示所有角色及其用户数量</li>
                            <li><strong>新增角色</strong>：填写角色名称、编码、描述</li>
                            <li><strong>编辑角色</strong>：修改角色信息</li>
                            <li><strong>删除角色</strong>：删除前检查是否有用户使用</li>
                            <li><strong>复制角色</strong>：基于现有角色创建新角色</li>
                            <li><strong>权限配置</strong>：树形结构展示所有权限，支持全选/反选/展开/收起</li>
                            <li><strong>数据权限</strong>：配置数据范围（全部/本部门/本部门及下级/仅本人/自定义）</li>
                            <li><strong>用户分配</strong>：查看和管理该角色下的用户</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">验收标准:</span>
                        <ul style="margin-left: 100px;">
                            <li>权限树支持1000+权限节点，加载时间 < 1秒</li>
                            <li>权限配置实时生效，无需重新登录</li>
                            <li>支持权限继承（父节点选中，子节点自动选中）</li>
                            <li>角色名称、角色编码唯一性校验</li>
                            <li>删除角色前检查是否有用户使用</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">接口依赖:</span>
                        <ul style="margin-left: 100px;">
                            <li><code>POST /api/v1/roles</code> - 创建角色</li>
                            <li><code>GET /api/v1/roles</code> - 查询角色列表</li>
                            <li><code>PUT /api/v1/roles/{id}</code> - 更新角色</li>
                            <li><code>DELETE /api/v1/roles/{id}</code> - 删除角色</li>
                            <li><code>POST /api/v1/roles/{id}/copy</code> - 复制角色</li>
                            <li><code>GET /api/v1/permissions/tree</code> - 获取权限树</li>
                            <li><code>PUT /api/v1/roles/{id}/permissions</code> - 配置角色权限</li>
                            <li><code>GET /api/v1/roles/{id}/users</code> - 获取角色下的用户</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">数据表:</span>
                        <span><code>sys_role</code>, <code>sys_role_permission</code>, <code>sys_permission</code>, <code>sys_user_role</code></span>
                    </div>
                </div>
            </div>

            <!-- 品牌管理模块 -->
            <div id="brand-mgmt" class="section">
                <h2>3. 品牌管理模块</h2>

                <h3>3.1 品牌信息管理</h3>
                
                <div class="req-box">
                    <h5>需求ID: SYS-BRAND-001 <span class="badge badge-p0">P0</span></h5>
                    <div class="req-item">
                        <span class="req-label">功能描述:</span>
                        <span>提供品牌的完整生命周期管理，包括品牌创建、权属管理、授权管理、产品管理等功能。系统支持品牌基本信息维护、知识产权证书管理、授权链条追溯、产品关联管理等核心功能。通过数字化手段实现品牌资产的集中管理和保护，建立完整的品牌档案，为品牌保护工作提供基础数据支撑。系统自动监控证书有效期，提前预警到期证书，避免因证书过期导致的维权失败。</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">业务场景:</span>
                        <div style="margin-left: 100px;">
                            <p><strong>场景1 - 新品牌入驻：</strong>某知名运动品牌与平台签约，需要录入品牌信息。品牌管理员创建品牌档案，上传品牌Logo、填写品牌介绍、选择所属行业（运动服饰），上传商标注册证（扫描件），系统OCR自动识别商标注册号、注册日期、有效期等信息。上传外观专利证书、著作权证书，系统自动建立品牌权属档案。关联该品牌下的所有产品（运动鞋、运动服等），建立品牌-产品关联关系。</p>
                            <p><strong>场景2 - 证书到期预警：</strong>某品牌的商标注册证将在60天后到期。系统自动检测到期时间，提前60天向品牌管理员发送预警通知（站内消息+邮件+短信），提醒及时办理续展。品牌管理员收到通知后，联系品牌方办理续展手续，续展完成后上传新的商标注册证，系统更新有效期，解除预警。</p>
                            <p><strong>场景3 - 品牌授权查询：</strong>巡查员在市场巡查时，发现某店铺声称是品牌授权经销商。巡查员通过手机APP扫描店铺授权证书上的二维码，系统自动查询该店铺是否在品牌授权列表中，显示授权状态（已授权/未授权/授权已过期）、授权区域、授权产品范围等信息，帮助巡查员快速判断店铺合法性。</p>
                            <p><strong>场景4 - 品牌数据分析：</strong>品牌方需要了解品牌保护工作成效。系统自动统计该品牌的巡查次数（本月500次）、发现问题数量（假冒商品30起、窜货10起）、处理案件数量（立案5起、调解成功3起）、授权渠道数量（全国200家）等数据，生成品牌保护数据报告，为品牌方决策提供数据支持。</p>
                        </div>
                    </div>
                    <div class="req-item">
                        <span class="req-label">功能清单:</span>
                        <ul style="margin-left: 100px;">
                            <li><strong>品牌列表</strong>：展示所有品牌，支持分页、搜索、筛选</li>
                            <li><strong>新增品牌</strong>：填写品牌基本信息（名称、Logo、行业、公司信息）</li>
                            <li><strong>编辑品牌</strong>：修改品牌信息</li>
                            <li><strong>品牌详情</strong>：查看品牌完整信息、权属信息、授权信息、产品信息、统计数据</li>
                            <li><strong>权属管理</strong>：商标注册证、专利证书、著作权证书管理</li>
                            <li><strong>到期预警</strong>：证书到期提前30/60/90天预警</li>
                            <li><strong>品牌授权</strong>：授权代理商、授权区域、授权期限管理</li>
                            <li><strong>产品关联</strong>：关联品牌下的产品列表</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">验收标准:</span>
                        <ul style="margin-left: 100px;">
                            <li>品牌列表加载时间 < 1秒</li>
                            <li>支持按品牌名称、行业、状态筛选</li>
                            <li>Logo上传支持JPG/PNG格式，大小 < 2MB</li>
                            <li>证书到期自动预警，邮件+短信通知</li>
                            <li>品牌名称唯一性校验</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">接口依赖:</span>
                        <ul style="margin-left: 100px;">
                            <li><code>POST /api/v1/brands</code> - 创建品牌</li>
                            <li><code>GET /api/v1/brands</code> - 查询品牌列表</li>
                            <li><code>GET /api/v1/brands/{id}</code> - 查询品牌详情</li>
                            <li><code>PUT /api/v1/brands/{id}</code> - 更新品牌信息</li>
                            <li><code>DELETE /api/v1/brands/{id}</code> - 删除品牌</li>
                            <li><code>POST /api/v1/brands/{id}/certificates</code> - 上传证书</li>
                            <li><code>GET /api/v1/brands/{id}/statistics</code> - 获取品牌统计数据</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">数据表:</span>
                        <span><code>brand_info</code>, <code>brand_certificate</code>, <code>brand_authorization</code>, <code>brand_product</code></span>
                    </div>
                </div>

                <h3>3.2 授权管理</h3>
                
                <div class="req-box">
                    <h5>需求ID: SYS-BRAND-AUTH-001 <span class="badge badge-p0">P0</span></h5>
                    <div class="req-item">
                        <span class="req-label">功能描述:</span>
                        <span>提供品牌授权的创建、审批、监控、撤销功能，支持多级授权体系。系统实现授权全流程数字化管理，从授权申请、多级审批、授权文件生成、授权执行监控到授权到期提醒、授权续期、授权撤销的完整闭环。支持电子围栏技术，实时监控授权商是否超出授权区域经营。通过区块链技术对授权文件进行存证，确保授权的真实性和不可篡改性，为授权纠纷提供可靠证据。</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">业务场景:</span>
                        <div style="margin-left: 100px;">
                            <p><strong>场景1 - 代理商授权申请：</strong>某公司申请成为品牌华东区总代理。申请方在系统中提交授权申请，上传公司营业执照、法人身份证、资金证明等资质文件，填写申请授权的区域（上海、江苏、浙江）、授权产品（全系列产品）、授权期限（3年）。系统自动流转到品牌方初审人员，初审通过后流转到复审人员，复审通过后流转到总经理审批。总经理审批通过后，系统自动生成授权书（包含授权编号、授权方、被授权方、授权区域、授权产品、授权期限、二维码等信息），双方在线签署电子合同，授权生效。</p>
                            <p><strong>场景2 - 授权区域监控：</strong>某代理商授权区域为北京市，但系统监测到该代理商在天津市开设了门店。系统通过电子围栏技术，自动检测到该门店位置超出授权区域，立即向品牌方发送预警通知。品牌方核实后，在系统中向该代理商发送整改通知，要求7天内关闭天津门店或申请扩大授权区域。如逾期未整改，系统支持一键撤销授权。</p>
                            <p><strong>场景3 - 授权到期续期：</strong>某代理商的授权将在30天后到期。系统自动向代理商和品牌方发送到期提醒。代理商在系统中提交续期申请，品牌方根据代理商过去3年的销售业绩、合规情况进行评估。评估通过后，在线签署续期协议，系统自动更新授权有效期，生成新的授权书。</p>
                            <p><strong>场景4 - 授权违规撤销：</strong>某代理商因销售假冒商品被发现，品牌方决定撤销授权。品牌方在系统中发起撤销授权流程，填写撤销原因、上传证据材料（巡查报告、鉴定报告），系统自动通知代理商。代理商可在系统中申诉，如申诉失败或逾期未申诉，授权正式撤销，该代理商的授权证书二维码失效，巡查员扫码时显示"授权已撤销"。</p>
                        </div>
                    </div>
                    <div class="req-item">
                        <span class="req-label">功能清单:</span>
                        <ul style="margin-left: 100px;">
                            <li><strong>授权申请</strong>：填写授权信息（被授权方、授权类型、授权范围、授权期限）</li>
                            <li><strong>授权审批</strong>：多级审批流程（初审→复审→批准）</li>
                            <li><strong>授权文件</strong>：自动生成授权书、支持电子签章</li>
                            <li><strong>授权监控</strong>：实时监控授权状态、销售数据、合规情况</li>
                            <li><strong>授权续期</strong>：到期前自动提醒、支持在线续期</li>
                            <li><strong>授权撤销</strong>：违规时可撤销授权</li>
                            <li><strong>授权统计</strong>：授权数量、区域分布、类型分布统计</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">验收标准:</span>
                        <ul style="margin-left: 100px;">
                            <li>授权审批流程可配置，支持3-5级审批</li>
                            <li>授权文件自动生成，包含二维码验证</li>
                            <li>到期前30天自动提醒</li>
                            <li>支持电子围栏，超出授权区域预警</li>
                            <li>授权变更全程留痕</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">接口依赖:</span>
                        <ul style="margin-left: 100px;">
                            <li><code>POST /api/v1/authorizations</code> - 创建授权</li>
                            <li><code>GET /api/v1/authorizations</code> - 查询授权列表</li>
                            <li><code>PUT /api/v1/authorizations/{id}/approve</code> - 审批授权</li>
                            <li><code>PUT /api/v1/authorizations/{id}/renew</code> - 续期授权</li>
                            <li><code>PUT /api/v1/authorizations/{id}/revoke</code> - 撤销授权</li>
                            <li><code>GET /api/v1/authorizations/{id}/document</code> - 生成授权文件</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">数据表:</span>
                        <span><code>brand_authorization</code>, <code>authorization_approval</code>, <code>authorization_history</code></span>
                    </div>
                </div>
            </div>

            <!-- 巡查管理模块 -->
            <div id="inspection" class="section">
                <h2>4. 巡查管理模块</h2>

                <h3>4.1 任务管理</h3>
                
                <div class="req-box">
                    <h5>需求ID: INSP-TASK-001 <span class="badge badge-p0">P0</span></h5>
                    <div class="req-item">
                        <span class="req-label">功能描述:</span>
                        <span>提供巡查任务的创建、分配、监控、统计功能，支持智能调度和实时跟踪。系统通过AI算法实现任务的智能分配，综合考虑巡查员位置、工作量、专业能力、历史绩效等因素，自动匹配最合适的巡查员。支持任务全生命周期管理，从任务创建、任务分配、任务执行、任务完成到任务评价的完整闭环。通过GPS定位和电子围栏技术，实时监控巡查员位置和任务执行进度，确保任务按时按质完成。提供任务预警机制，对超时任务、异常任务自动预警，提高任务管理效率。</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">业务场景:</span>
                        <div style="margin-left: 100px;">
                            <p><strong>场景1 - 常规巡查任务：</strong>品牌方要求对北京市朝阳区的所有授权门店进行月度常规巡查。巡查部管理员在系统中创建巡查任务，选择任务类型（常规巡查），选择品牌（某运动品牌），选择区域（北京市朝阳区），系统自动列出该区域的50家授权门店。管理员设置巡查要求（检查授权证书、商品陈列、价格体系、库存管理），设置任务截止时间（本月底），上传品牌巡查标准文件。点击"智能分配"，系统根据巡查员当前位置、工作量、对该品牌的熟悉程度，自动将50家门店分配给5名巡查员，每人10家，并规划最优巡查路线。</p>
                            <p><strong>场景2 - 紧急投诉核查：</strong>消费者投诉某商场专柜销售假冒商品。系统自动生成紧急任务，标记为"高优先级"，推送给距离该商场最近的巡查员张三（距离2公里）。张三收到任务推送后，点击"接受任务"，系统自动导航到商场位置。张三到达现场后点击"任务签到"（GPS定位+拍照），系统记录到达时间。张三检查商品、采集证据、填写报告，2小时内完成任务提交。系统自动通知投诉人"您的投诉已受理，巡查员已到现场核查"。</p>
                            <p><strong>场景3 - 专项检查任务：</strong>某品牌新品上市，需要对全国重点城市的旗舰店进行专项检查，确保新品陈列符合品牌标准。管理员创建专项检查任务，选择100家旗舰店，设置专项检查要求（新品陈列位置、陈列数量、宣传物料、促销活动），设置任务周期（7天内完成）。系统根据巡查员所在城市自动分配任务，北京的巡查员负责北京的旗舰店，上海的巡查员负责上海的旗舰店。管理员在任务监控大屏上实时查看任务进度：已完成30家，进行中50家，未开始20家。</p>
                            <p><strong>场景4 - 任务超时预警：</strong>巡查员李四接到任务后，因其他紧急任务耽搁，任务即将超时。系统检测到任务距离截止时间不足2小时且任务状态仍为"未开始"，自动向李四发送超时预警（APP推送+短信），同时通知管理员。管理员查看李四的任务情况，决定将该任务转派给附近的巡查员王五。王五接到任务后立即前往，按时完成任务。</p>
                        </div>
                    </div>
                    <div class="req-item">
                        <span class="req-label">功能清单:</span>
                        <ul style="margin-left: 100px;">
                            <li><strong>任务创建</strong>：填写任务信息（名称、类型、优先级、巡查目标、巡查要求）</li>
                            <li><strong>任务分配</strong>：手动分配、自动分配（基于位置、工作量、能力）</li>
                            <li><strong>任务模板</strong>：预设任务模板，快速创建任务</li>
                            <li><strong>批量任务</strong>：批量创建、批量分配</li>
                            <li><strong>任务监控</strong>：实时查看任务状态、巡查员位置、任务进度</li>
                            <li><strong>任务预警</strong>：超时预警、逾期预警、异常预警</li>
                            <li><strong>任务统计</strong>：完成率、及时率、质量分析</li>
                            <li><strong>路线规划</strong>：基于地图的最优路线规划</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">验收标准:</span>
                        <ul style="margin-left: 100px;">
                            <li>任务创建时间 < 3秒</li>
                            <li>支持同时监控1000+任务</li>
                            <li>自动分配算法考虑距离、工作量、能力评分</li>
                            <li>实时位置更新频率 < 30秒</li>
                            <li>任务超时自动预警，推送通知</li>
                            <li>支持任务转派、任务协同</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">接口依赖:</span>
                        <ul style="margin-left: 100px;">
                            <li><code>POST /api/v1/inspection/tasks</code> - 创建任务</li>
                            <li><code>GET /api/v1/inspection/tasks</code> - 查询任务列表</li>
                            <li><code>PUT /api/v1/inspection/tasks/{id}/assign</code> - 分配任务</li>
                            <li><code>GET /api/v1/inspection/tasks/{id}/track</code> - 跟踪任务</li>
                            <li><code>GET /api/v1/inspection/tasks/statistics</code> - 任务统计</li>
                            <li><code>POST /api/v1/inspection/tasks/batch</code> - 批量创建任务</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">数据表:</span>
                        <span><code>inspection_task</code>, <code>task_assignment</code>, <code>task_track</code>, <code>task_template</code></span>
                    </div>
                </div>

                <h3>4.2 报告管理</h3>
                
                <div class="req-box">
                    <h5>需求ID: INSP-REPORT-001 <span class="badge badge-p1">P1</span></h5>
                    <div class="req-item">
                        <span class="req-label">功能描述:</span>
                        <span>提供巡查报告的审核、查询、统计、导出功能，支持AI辅助审核</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">业务场景:</span>
                        <span>督导部需要审核巡查员提交的报告，查询历史报告，统计巡查数据，导出报告文档</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">功能清单:</span>
                        <ul style="margin-left: 100px;">
                            <li><strong>报告审核</strong>：查看报告详情、证据材料，审核操作（通过、驳回、补充）</li>
                            <li><strong>AI辅助审核</strong>：自动检查报告完整性、证据质量、问题分类</li>
                            <li><strong>批量审核</strong>：批量通过、批量驳回</li>
                            <li><strong>报告查询</strong>：多条件查询、全文搜索、高级筛选</li>
                            <li><strong>报告统计</strong>：按时间、区域、品牌、问题类型统计</li>
                            <li><strong>报告导出</strong>：导出为Word、PDF、Excel格式</li>
                            <li><strong>报告模板</strong>：管理报告模板、自定义字段</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">验收标准:</span>
                        <ul style="margin-left: 100px;">
                            <li>报告列表加载时间 < 2秒（10000条数据）</li>
                            <li>AI审核准确率 > 85%</li>
                            <li>支持全文搜索，响应时间 < 1秒</li>
                            <li>报告导出支持自定义字段、样式</li>
                            <li>审核意见支持富文本编辑</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">接口依赖:</span>
                        <ul style="margin-left: 100px;">
                            <li><code>GET /api/v1/inspection/reports</code> - 查询报告列表</li>
                            <li><code>GET /api/v1/inspection/reports/{id}</code> - 查询报告详情</li>
                            <li><code>PUT /api/v1/inspection/reports/{id}/review</code> - 审核报告</li>
                            <li><code>POST /api/v1/inspection/reports/batch-review</code> - 批量审核</li>
                            <li><code>GET /api/v1/inspection/reports/export</code> - 导出报告</li>
                            <li><code>GET /api/v1/inspection/reports/statistics</code> - 报告统计</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">数据表:</span>
                        <span><code>inspection_report</code>, <code>report_review</code>, <code>report_template</code></span>
                    </div>
                </div>

                <h3>4.3 证据管理</h3>
                
                <div class="req-box">
                    <h5>需求ID: INSP-EVIDENCE-001 <span class="badge badge-p0">P0</span></h5>
                    <div class="req-item">
                        <span class="req-label">功能描述:</span>
                        <span>提供证据的采集、存储、审核、存证、查询功能，支持区块链存证和司法认证。系统支持多种证据类型（照片、视频、录音、文档、扫码记录、GPS定位）的采集和管理，自动为每条证据生成唯一编号、添加水印（时间、地点、人员、设备信息）、计算哈希值。通过区块链技术实现证据的实时上链存证，确保证据的真实性、完整性、不可篡改性，满足司法认证要求。系统自动建立证据链，将同一案件的所有证据关联，形成完整的证据体系。提供证据质量审核机制，AI自动检测证据清晰度、完整性，人工审核证据有效性、合法性。</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">业务场景:</span>
                        <div style="margin-left: 100px;">
                            <p><strong>场景1 - 现场证据采集：</strong>巡查员张三在某商场发现疑似假冒商品。张三打开巡查APP，进入任务详情，点击"拍照取证"。系统自动调用相机，张三从多个角度拍摄商品（正面、背面、侧面、商标细节、包装细节、防伪标识），每张照片系统自动添加水印（拍摄时间：2024-01-15 14:30:25，拍摄地点：北京市朝阳区XX商场3F，巡查员：张三，任务编号：TASK-20240115-001）。张三点击"录像取证"，录制商品展示视频和与商家的沟通过程。点击"扫码验证"，扫描商品防伪码，系统查询显示"非正品"。所有证据自动上传到云端，系统为每条证据生成唯一编号（EV-20240115-001、EV-20240115-002...），计算SHA-256哈希值，实时上传到区块链存证。</p>
                            <p><strong>场景2 - 证据链构建：</strong>某假冒案件涉及多个环节：生产、批发、零售。巡查员在零售店采集证据（商品照片、店铺照片、授权证书），在批发市场采集证据（批发商信息、进货单据），在生产窝点采集证据（生产设备、半成品、包装材料）。系统自动将所有证据关联到同一案件（CASE-20240115-001），建立证据链：生产证据→批发证据→零售证据，形成完整的侵权链条。律师在准备起诉材料时，一键导出该案件的所有证据，系统自动生成证据清单、证据目录、存证证书。</p>
                            <p><strong>场景3 - 证据质量审核：</strong>巡查员提交报告后，系统AI自动审核证据质量。检测到一张商品照片模糊不清（清晰度评分60分，低于标准80分），系统自动标记为"证据不合格"，向巡查员发送补充证据通知："商品正面照片不清晰，请重新拍摄"。巡查员收到通知后，返回现场重新拍摄，上传新照片。督导部人工审核时，发现证据完整、清晰，审核通过。</p>
                            <p><strong>场景4 - 司法存证证书：</strong>案件进入诉讼阶段，律师需要向法院提交证据。律师在系统中选择该案件的所有证据，点击"生成存证证书"。系统自动生成PDF格式的存证证书，包含：证据编号、证据类型、采集时间、采集地点、采集人、区块链哈希值、交易哈希、区块高度、存证时间、二维码（扫码可在线验证）。律师将存证证书打印后提交法院，法官扫描二维码验证证据真伪，系统显示"证据真实有效，未被篡改"。</p>
                        </div>
                    </div>
                    <div class="req-item">
                        <span class="req-label">功能清单:</span>
                        <ul style="margin-left: 100px;">
                            <li><strong>证据采集</strong>：拍照、录像、录音、扫码、定位、OCR识别</li>
                            <li><strong>证据标准化</strong>：自动编号、分类、添加元数据（时间、地点、人员、设备）</li>
                            <li><strong>区块链存证</strong>：实时上链、哈希存证、时间戳认证</li>
                            <li><strong>存证证书</strong>：自动生成存证证书、支持下载和验证</li>
                            <li><strong>证据审核</strong>：质量检查、有效性审核、补充要求</li>
                            <li><strong>证据查询</strong>：按任务、报告、类型、时间查询</li>
                            <li><strong>证据链管理</strong>：同一案件的证据关联、证据完整性校验</li>
                            <li><strong>证据导出</strong>：批量下载、打包导出</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">验收标准:</span>
                        <ul style="margin-left: 100px;">
                            <li>证据上传成功率 > 99.9%</li>
                            <li>区块链存证时间 < 3秒</li>
                            <li>支持单个文件最大500MB</li>
                            <li>证据哈希值SHA-256加密</li>
                            <li>存证证书包含二维码，可扫码验证</li>
                            <li>证据保存期限 > 10年</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">接口依赖:</span>
                        <ul style="margin-left: 100px;">
                            <li><code>POST /api/v1/evidence/upload</code> - 上传证据</li>
                            <li><code>GET /api/v1/evidence</code> - 查询证据列表</li>
                            <li><code>GET /api/v1/evidence/{id}</code> - 查询证据详情</li>
                            <li><code>POST /api/v1/evidence/{id}/blockchain</code> - 区块链存证</li>
                            <li><code>GET /api/v1/evidence/{id}/certificate</code> - 获取存证证书</li>
                            <li><code>POST /api/v1/evidence/{id}/verify</code> - 验证证据真伪</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">数据表:</span>
                        <span><code>evidence</code>, <code>evidence_blockchain</code>, <code>evidence_review</code>, <code>evidence_chain</code></span>
                    </div>
                </div>
            </div>

            <!-- 法律服务模块 -->
            <div id="legal" class="section">
                <h2>5. 法律服务模块</h2>

                <h3>5.1 案件管理</h3>
                
                <div class="req-box">
                    <h5>需求ID: LEGAL-CASE-001 <span class="badge badge-p0">P0</span></h5>
                    <div class="req-item">
                        <span class="req-label">功能描述:</span>
                        <span>提供案件的完整生命周期管理，包括立案、分配律师、证据管理、文书管理、进度跟踪、结案归档。系统实现案件从发现侵权、立案调查、律师介入、诉讼准备、开庭审理、判决执行到结案归档的全流程数字化管理。支持案件与巡查报告、证据、鉴定报告的自动关联，形成完整的案件档案。通过智能算法实现律师的自动匹配和分配，综合考虑律师专长、工作量、地域、历史胜诉率等因素。提供案件进度实时跟踪，关键节点自动提醒（开庭时间、举证期限、上诉期限），避免因程序问题导致败诉。</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">业务场景:</span>
                        <div style="margin-left: 100px;">
                            <p><strong>场景1 - 案件立案：</strong>巡查员发现某批发市场大量销售假冒商品，提交巡查报告后，督导部评估认为需要立案处理。督导部在系统中创建案件，填写案件基本信息（案件类型：商标侵权，被告：XX批发商行，案情描述：销售假冒运动鞋500双），系统自动关联巡查报告（REPORT-20240115-001）和所有证据（50张照片、3段视频、1份鉴定报告）。系统根据案件类型（商标侵权）、案件金额（估算50万元）、案件地点（北京），自动推荐3名合适的律师（专长商标法、在北京执业、胜诉率>80%）。督导部选择律师李律师，系统自动向李律师发送案件分配通知。</p>
                            <p><strong>场景2 - 律师接案处理：</strong>李律师收到案件通知后，登录系统查看案件详情。系统已自动整理好案件材料：巡查报告、证据清单（照片、视频、鉴定报告）、被告信息、品牌方授权书、商标注册证。李律师点击"AI生成起诉状"，系统根据案件信息自动生成起诉状初稿，包含：原告信息、被告信息、诉讼请求（停止侵权、赔偿损失50万元、赔礼道歉）、事实与理由（引用《商标法》相关条款）、证据清单。李律师审核修改后，在线提交审批，督导部审批通过后，李律师通过系统向法院提交起诉材料。</p>
                            <p><strong>场景3 - 案件进度跟踪：</strong>案件立案后，系统自动跟踪案件进度。法院受理后，系统记录受理时间、案号。开庭前7天，系统自动提醒李律师"案件将于7天后开庭，请做好准备"。开庭当天，李律师在系统中上传庭审笔录。判决书下达后，李律师上传判决书，系统自动识别判决结果（原告胜诉，被告赔偿40万元），更新案件状态为"已判决"。进入执行阶段，系统跟踪执行进度，被告履行赔偿义务后，案件状态更新为"已结案"。</p>
                            <p><strong>场景4 - 案件数据分析：</strong>品牌方需要了解维权效果。系统自动统计：本年度立案数量（50起）、结案数量（45起）、胜诉率（90%）、平均审理周期（6个月）、获赔金额（总计200万元）、案件类型分布（商标侵权30起、专利侵权10起、不正当竞争10起）、高发区域（华东地区占40%）。系统生成可视化报表，为品牌方制定维权策略提供数据支持。</p>
                        </div>
                    </div>
                    <div class="req-item">
                        <span class="req-label">功能清单:</span>
                        <ul style="margin-left: 100px;">
                            <li><strong>案件立案</strong>：填写案件信息（案件类型、当事人、案情描述、诉讼请求）</li>
                            <li><strong>律师分配</strong>：手动分配、自动分配（基于专长、工作量、地域）</li>
                            <li><strong>证据管理</strong>：关联巡查证据、上传补充证据、证据清单</li>
                            <li><strong>文书管理</strong>：起诉状、答辩状、判决书等法律文书管理</li>
                            <li><strong>进度跟踪</strong>：立案→开庭→判决→执行→结案，全流程跟踪</li>
                            <li><strong>费用管理</strong>：诉讼费、律师费、其他费用记录</li>
                            <li><strong>案件统计</strong>：案件数量、结案率、胜诉率、平均时长</li>
                            <li><strong>案件归档</strong>：结案后自动归档，长期保存</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">验收标准:</span>
                        <ul style="margin-left: 100px;">
                            <li>案件列表加载时间 < 2秒</li>
                            <li>支持按案件类型、状态、时间、律师筛选</li>
                            <li>案件进度实时更新，延迟 < 1分钟</li>
                            <li>支持案件时效预警，提前7天提醒</li>
                            <li>案件文档支持在线预览、下载</li>
                            <li>案件数据保存期限 > 20年</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">接口依赖:</span>
                        <ul style="margin-left: 100px;">
                            <li><code>POST /api/v1/legal/cases</code> - 创建案件</li>
                            <li><code>GET /api/v1/legal/cases</code> - 查询案件列表</li>
                            <li><code>GET /api/v1/legal/cases/{id}</code> - 查询案件详情</li>
                            <li><code>PUT /api/v1/legal/cases/{id}/assign</code> - 分配律师</li>
                            <li><code>PUT /api/v1/legal/cases/{id}/progress</code> - 更新进度</li>
                            <li><code>POST /api/v1/legal/cases/{id}/documents</code> - 上传文书</li>
                            <li><code>GET /api/v1/legal/cases/statistics</code> - 案件统计</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">数据表:</span>
                        <span><code>legal_case</code>, <code>case_party</code>, <code>case_evidence</code>, <code>case_document</code>, <code>case_progress</code></span>
                    </div>
                </div>

                <h3>5.2 文书管理</h3>
                
                <div class="req-box">
                    <h5>需求ID: LEGAL-DOC-001 <span class="badge badge-p1">P1</span></h5>
                    <div class="req-item">
                        <span class="req-label">功能描述:</span>
                        <span>提供法律文书的模板管理、AI生成、在线编辑、审核、归档功能</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">业务场景:</span>
                        <span>律师需要快速生成规范的法律文书，提高工作效率，确保文书质量</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">功能清单:</span>
                        <ul style="margin-left: 100px;">
                            <li><strong>文书模板</strong>：预设常用法律文书模板（起诉状、答辩状、上诉状等）</li>
                            <li><strong>AI生成</strong>：基于案件信息，AI自动生成文书初稿</li>
                            <li><strong>在线编辑</strong>：富文本编辑器，支持格式调整、插入表格、图片</li>
                            <li><strong>变量替换</strong>：自动替换当事人、案件信息等变量</li>
                            <li><strong>法律引用</strong>：智能推荐相关法律条文、案例</li>
                            <li><strong>文书审核</strong>：提交审核、审核意见、修改完善</li>
                            <li><strong>电子签章</strong>：支持电子签章、律师签名</li>
                            <li><strong>文书导出</strong>：导出为Word、PDF格式</li>
                            <li><strong>版本管理</strong>：文书版本控制、版本对比、版本回滚</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">验收标准:</span>
                        <ul style="margin-left: 100px;">
                            <li>AI生成文书时间 < 10秒</li>
                            <li>AI生成准确率 > 80%，需人工审核</li>
                            <li>支持20+常用文书模板</li>
                            <li>文书编辑支持自动保存，防止丢失</li>
                            <li>电子签章符合《电子签名法》要求</li>
                            <li>文书导出格式规范，符合法院要求</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">接口依赖:</span>
                        <ul style="margin-left: 100px;">
                            <li><code>GET /api/v1/legal/templates</code> - 获取文书模板</li>
                            <li><code>POST /api/v1/legal/documents/generate</code> - AI生成文书</li>
                            <li><code>POST /api/v1/legal/documents</code> - 创建文书</li>
                            <li><code>PUT /api/v1/legal/documents/{id}</code> - 更新文书</li>
                            <li><code>POST /api/v1/legal/documents/{id}/review</code> - 提交审核</li>
                            <li><code>POST /api/v1/legal/documents/{id}/sign</code> - 电子签章</li>
                            <li><code>GET /api/v1/legal/documents/{id}/export</code> - 导出文书</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">数据表:</span>
                        <span><code>legal_document</code>, <code>document_template</code>, <code>document_version</code>, <code>document_review</code></span>
                    </div>
                </div>
            </div>

            <!-- 专家服务模块 -->
            <div id="expert" class="section">
                <h2>6. 专家服务模块</h2>

                <h3>6.1 鉴定管理</h3>
                
                <div class="req-box">
                    <h5>需求ID: EXPERT-APPR-001 <span class="badge badge-p0">P0</span></h5>
                    <div class="req-item">
                        <span class="req-label">功能描述:</span>
                        <span>提供商品鉴定的申请、分配专家、鉴定执行、报告出具、费用结算全流程管理</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">业务场景:</span>
                        <span>消费者、巡查员、律师需要对疑似假冒商品进行专业鉴定，专家出具鉴定报告</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">功能清单:</span>
                        <ul style="margin-left: 100px;">
                            <li><strong>鉴定申请</strong>：填写申请信息（申请人、商品信息、鉴定原因）</li>
                            <li><strong>专家分配</strong>：根据商品类别、专家专长自动匹配专家</li>
                            <li><strong>样品管理</strong>：样品寄送、接收、保管、退还流程</li>
                            <li><strong>鉴定执行</strong>：专家在线填写鉴定过程、鉴定方法、鉴定结论</li>
                            <li><strong>鉴定报告</strong>：自动生成规范的鉴定报告、专家签名</li>
                            <li><strong>报告审核</strong>：部门审核鉴定报告质量</li>
                            <li><strong>报告发布</strong>：审核通过后发布给申请人</li>
                            <li><strong>费用结算</strong>：鉴定费用计算、支付、结算</li>
                            <li><strong>鉴定统计</strong>：鉴定数量、真伪比例、专家绩效</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">验收标准:</span>
                        <ul style="margin-left: 100px;">
                            <li>鉴定申请提交后1小时内分配专家</li>
                            <li>鉴定周期 < 7个工作日</li>
                            <li>鉴定报告包含详细鉴定过程、对比图片</li>
                            <li>报告支持电子签名、区块链存证</li>
                            <li>鉴定结论准确率 > 95%</li>
                            <li>支持在线支付鉴定费用</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">接口依赖:</span>
                        <ul style="margin-left: 100px;">
                            <li><code>POST /api/v1/expert/appraisals</code> - 创建鉴定申请</li>
                            <li><code>GET /api/v1/expert/appraisals</code> - 查询鉴定列表</li>
                            <li><code>PUT /api/v1/expert/appraisals/{id}/assign</code> - 分配专家</li>
                            <li><code>PUT /api/v1/expert/appraisals/{id}/report</code> - 提交鉴定报告</li>
                            <li><code>POST /api/v1/expert/appraisals/{id}/review</code> - 审核报告</li>
                            <li><code>GET /api/v1/expert/appraisals/{id}/report</code> - 获取鉴定报告</li>
                            <li><code>POST /api/v1/expert/appraisals/{id}/payment</code> - 支付鉴定费</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">数据表:</span>
                        <span><code>expert_appraisal</code>, <code>appraisal_sample</code>, <code>appraisal_report</code>, <code>appraisal_payment</code></span>
                    </div>
                </div>

                <h3>6.2 专家管理</h3>
                
                <div class="req-box">
                    <h5>需求ID: EXPERT-MGT-001 <span class="badge badge-p1">P1</span></h5>
                    <div class="req-item">
                        <span class="req-label">功能描述:</span>
                        <span>提供专家的入驻、资质审核、能力评估、绩效管理功能</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">业务场景:</span>
                        <span>专家部需要管理专家资源池，确保专家资质、评估专家能力、监控专家绩效</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">功能清单:</span>
                        <ul style="margin-left: 100px;">
                            <li><strong>专家入驻</strong>：专家申请、填写资料、上传证书</li>
                            <li><strong>资质审核</strong>：审核专家资质、专业能力、从业经验</li>
                            <li><strong>专家档案</strong>：基本信息、专长领域、资质证书、鉴定记录</li>
                            <li><strong>能力评估</strong>：鉴定准确率、响应速度、客户满意度</li>
                            <li><strong>绩效管理</strong>：鉴定数量、质量评分、收入统计</li>
                            <li><strong>专家排名</strong>：按鉴定数量、准确率、满意度排名</li>
                            <li><strong>专家培训</strong>：在线培训、考试认证</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">验收标准:</span>
                        <ul style="margin-left: 100px;">
                            <li>专家入驻审核周期 < 3个工作日</li>
                            <li>专家档案信息完整、真实</li>
                            <li>绩效数据实时更新</li>
                            <li>支持按专长、地域、评分筛选专家</li>
                            <li>专家证书到期自动提醒</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">接口依赖:</span>
                        <ul style="margin-left: 100px;">
                            <li><code>POST /api/v1/experts</code> - 专家入驻申请</li>
                            <li><code>GET /api/v1/experts</code> - 查询专家列表</li>
                            <li><code>PUT /api/v1/experts/{id}/review</code> - 审核专家</li>
                            <li><code>GET /api/v1/experts/{id}/performance</code> - 获取专家绩效</li>
                            <li><code>GET /api/v1/experts/ranking</code> - 专家排名</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">数据表:</span>
                        <span><code>expert_info</code>, <code>expert_certificate</code>, <code>expert_performance</code></span>
                    </div>
                </div>
            </div>

            <!-- 纠纷处理模块 -->
            <div id="dispute" class="section">
                <h2>7. 纠纷处理模块</h2>

                <h3>7.1 在线调解</h3>
                
                <div class="req-box">
                    <h5>需求ID: DISPUTE-MED-001 <span class="badge badge-p0">P0</span></h5>
                    <div class="req-item">
                        <span class="req-label">功能描述:</span>
                        <span>提供在线调解的申请、调解员分配、在线调解、协议签署、执行跟踪全流程功能</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">业务场景:</span>
                        <span>品牌方与侵权方、消费者与商家之间的纠纷，通过在线调解快速解决，降低诉讼成本</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">功能清单:</span>
                        <ul style="margin-left: 100px;">
                            <li><strong>调解申请</strong>：填写纠纷信息（当事人、纠纷类型、纠纷金额、诉求）</li>
                            <li><strong>调解员分配</strong>：根据纠纷类型、金额自动匹配调解员</li>
                            <li><strong>证据提交</strong>：双方上传证据材料</li>
                            <li><strong>在线调解</strong>：音视频调解、文字沟通、屏幕共享</li>
                            <li><strong>调解记录</strong>：自动记录调解过程、生成调解笔录</li>
                            <li><strong>方案推荐</strong>：AI智能推荐调解方案</li>
                            <li><strong>协议签署</strong>：在线签署调解协议、电子签章</li>
                            <li><strong>执行跟踪</strong>：跟踪协议执行情况、逾期提醒</li>
                            <li><strong>调解统计</strong>：调解数量、成功率、平均时长</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">验收标准:</span>
                        <ul style="margin-left: 100px;">
                            <li>调解申请提交后2小时内分配调解员</li>
                            <li>音视频调解延迟 < 200ms</li>
                            <li>支持3方以上多方调解</li>
                            <li>调解笔录自动生成，支持语音转文字</li>
                            <li>调解成功率 > 60%</li>
                            <li>调解周期 < 15天</li>
                            <li>电子协议具有法律效力</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">接口依赖:</span>
                        <ul style="margin-left: 100px;">
                            <li><code>POST /api/v1/dispute/mediations</code> - 创建调解申请</li>
                            <li><code>GET /api/v1/dispute/mediations</code> - 查询调解列表</li>
                            <li><code>PUT /api/v1/dispute/mediations/{id}/assign</code> - 分配调解员</li>
                            <li><code>POST /api/v1/dispute/mediations/{id}/session</code> - 创建调解会话</li>
                            <li><code>POST /api/v1/dispute/mediations/{id}/agreement</code> - 签署协议</li>
                            <li><code>GET /api/v1/dispute/mediations/{id}/track</code> - 跟踪执行</li>
                            <li><code>GET /api/v1/dispute/mediations/statistics</code> - 调解统计</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">数据表:</span>
                        <span><code>dispute_mediation</code>, <code>mediation_party</code>, <code>mediation_session</code>, <code>mediation_agreement</code></span>
                    </div>
                </div>

                <h3>7.2 在线仲裁</h3>
                
                <div class="req-box">
                    <h5>需求ID: DISPUTE-ARB-001 <span class="badge badge-p1">P1</span></h5>
                    <div class="req-item">
                        <span class="req-label">功能描述:</span>
                        <span>提供在线仲裁的申请、仲裁庭组建、在线庭审、裁决书出具、执行跟踪功能</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">业务场景:</span>
                        <span>调解失败的案件转入仲裁程序，通过在线仲裁快速裁决，具有法律强制执行力</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">功能清单:</span>
                        <ul style="margin-left: 100px;">
                            <li><strong>仲裁申请</strong>：填写仲裁请求、仲裁理由、证据清单</li>
                            <li><strong>仲裁庭组建</strong>：选择仲裁员、组成仲裁庭（独任或合议）</li>
                            <li><strong>答辩与举证</strong>：被申请人答辩、双方举证、质证</li>
                            <li><strong>在线庭审</strong>：音视频庭审、电子笔录、证据展示</li>
                            <li><strong>庭审记录</strong>：全程录音录像、自动生成笔录</li>
                            <li><strong>裁决书生成</strong>：仲裁员起草裁决书、合议庭签署</li>
                            <li><strong>裁决书送达</strong>：电子送达、短信通知</li>
                            <li><strong>执行跟踪</strong>：跟踪裁决执行、申请强制执行</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">验收标准:</span>
                        <ul style="margin-left: 100px;">
                            <li>仲裁申请提交后3个工作日内组建仲裁庭</li>
                            <li>仲裁周期 < 60天</li>
                            <li>在线庭审支持10人以上参与</li>
                            <li>庭审录像保存期限 > 10年</li>
                            <li>裁决书符合《仲裁法》要求</li>
                            <li>裁决书可申请法院强制执行</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">接口依赖:</span>
                        <ul style="margin-left: 100px;">
                            <li><code>POST /api/v1/dispute/arbitrations</code> - 创建仲裁申请</li>
                            <li><code>GET /api/v1/dispute/arbitrations</code> - 查询仲裁列表</li>
                            <li><code>POST /api/v1/dispute/arbitrations/{id}/tribunal</code> - 组建仲裁庭</li>
                            <li><code>POST /api/v1/dispute/arbitrations/{id}/hearing</code> - 创建庭审</li>
                            <li><code>POST /api/v1/dispute/arbitrations/{id}/award</code> - 出具裁决书</li>
                            <li><code>POST /api/v1/dispute/arbitrations/{id}/serve</code> - 送达裁决书</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">数据表:</span>
                        <span><code>dispute_arbitration</code>, <code>arbitration_tribunal</code>, <code>arbitration_hearing</code>, <code>arbitration_award</code></span>
                    </div>
                </div>

                <h3>7.3 在线庭审</h3>
                
                <div class="req-box">
                    <h5>需求ID: DISPUTE-TRIAL-001 <span class="badge badge-p0">P0</span></h5>
                    <div class="req-item">
                        <span class="req-label">功能描述:</span>
                        <span>提供在线庭审的音视频通话、屏幕共享、电子笔录、证据展示、庭审录制功能。系统基于WebRTC技术实现低延迟（<200ms）的音视频通话，支持10人以上同时在线参与庭审。提供专业的庭审控制功能，主持人可控制发言权限、静音参与人、共享屏幕、展示证据。支持AI语音识别技术，实时将庭审发言转换为文字笔录，提高庭审效率。庭审全程录音录像，自动存储并区块链存证，确保庭审记录的真实性和完整性。支持庭审回放功能，方便当事人复核庭审过程。</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">业务场景:</span>
                        <div style="margin-left: 100px;">
                            <p><strong>场景1 - 在线调解庭审：</strong>某品牌方与经销商因窜货问题产生纠纷，双方同意调解。调解员在系统中创建在线调解庭审，设置时间（2024年1月20日 14:00），邀请参与人（品牌方代表、经销商代表、双方律师），系统自动发送庭审通知（短信+邮件+APP推送）。庭审开始前15分钟，系统提醒参与人进行设备测试（摄像头、麦克风、网络）。14:00庭审准时开始，调解员点击"开始庭审"，系统自动开始录音录像。调解员介绍庭审规则，品牌方陈述事实（经销商将授权区域为北京的商品销售到天津），经销商答辩（因客户要求才销售到天津），双方举证（品牌方展示巡查报告、经销商展示客户订单）。调解员提出调解方案（经销商停止窜货、退还违规所得、品牌方不追究责任），双方同意。系统生成调解协议，双方在线签署电子签名，调解成功。庭审结束，系统自动生成庭审笔录、庭审录像，上传区块链存证。</p>
                            <p><strong>场景2 - 在线仲裁庭审：</strong>某消费者与商家因商品质量问题申请仲裁。仲裁庭由3名仲裁员组成（1名首席仲裁员、2名仲裁员）。庭审开始，首席仲裁员核实参与人身份（申请人、被申请人、代理人），宣布庭审纪律。申请人陈述（购买商品后发现质量问题，要求退货退款），被申请人答辩（商品符合质量标准，不同意退货）。申请人举证，点击"展示证据"，系统在所有参与人屏幕上展示商品照片、质检报告、聊天记录。被申请人质证，提出异议。专家证人在线作证，通过屏幕共享展示检测过程。双方辩论，系统AI实时将发言转为文字笔录。庭审结束，仲裁庭合议，首席仲裁员宣读裁决（支持申请人诉求，被申请人退货退款）。系统自动生成裁决书，加盖电子签章，送达双方。</p>
                            <p><strong>场景3 - 跨国在线庭审：</strong>某品牌方（中国）起诉海外侵权方（美国）。因地理距离和疫情影响，采用在线庭审。庭审时间设置为北京时间14:00（美国时间凌晨1:00，考虑时差）。系统支持中英文实时翻译，中方发言自动翻译为英文，美方发言自动翻译为中文，显示在屏幕字幕上。庭审过程中，中方律师展示证据（商标注册证、侵权商品对比图），通过屏幕共享功能，所有参与人清晰看到证据细节。美方律师提出异议，系统记录异议内容。庭审持续3小时，系统稳定运行，音视频流畅，无卡顿。庭审结束后，系统自动生成中英文双语庭审笔录。</p>
                            <p><strong>场景4 - 庭审突发情况处理：</strong>庭审进行中，申请人因网络故障掉线。系统自动检测到掉线，暂停庭审计时，显示"申请人网络中断，等待重新连接"。2分钟后申请人重新连接，系统自动恢复庭审，从中断处继续。庭审过程中，旁听人员违规发言，主持人点击"静音"按钮，将该旁听人员静音。庭审结束后，系统检测到庭审录像完整性（无缺失片段），自动上传云端存储，生成存证证书。</p>
                        </div>
                    </div>
                    <div class="req-item">
                        <span class="req-label">功能清单:</span>
                        <ul style="margin-left: 100px;">
                            <li><strong>庭审安排</strong>：选择时间、通知参与人、设备测试</li>
                            <li><strong>音视频通话</strong>：多方音视频通话、画面切换、静音控制</li>
                            <li><strong>屏幕共享</strong>：共享屏幕、展示证据、标注重点</li>
                            <li><strong>电子笔录</strong>：实时记录、语音转文字、笔录确认</li>
                            <li><strong>证据展示</strong>：上传证据、在线展示、放大查看</li>
                            <li><strong>庭审录制</strong>：全程录音录像、自动存储</li>
                            <li><strong>庭审控制</strong>：开始、暂停、休庭、结束</li>
                            <li><strong>庭审回放</strong>：庭审录像回放、下载</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">验收标准:</span>
                        <ul style="margin-left: 100px;">
                            <li>音视频延迟 < 200ms</li>
                            <li>视频分辨率 ≥ 720P</li>
                            <li>支持10人以上同时在线</li>
                            <li>语音转文字准确率 > 90%</li>
                            <li>庭审录像清晰、完整、不可篡改</li>
                            <li>支持断线重连，不影响庭审</li>
                            <li>庭审数据区块链存证</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">接口依赖:</span>
                        <ul style="margin-left: 100px;">
                            <li><code>POST /api/v1/dispute/hearings</code> - 创建庭审</li>
                            <li><code>GET /api/v1/dispute/hearings/{id}</code> - 获取庭审信息</li>
                            <li><code>POST /api/v1/dispute/hearings/{id}/join</code> - 加入庭审</li>
                            <li><code>POST /api/v1/dispute/hearings/{id}/record</code> - 记录笔录</li>
                            <li><code>POST /api/v1/dispute/hearings/{id}/evidence</code> - 展示证据</li>
                            <li><code>GET /api/v1/dispute/hearings/{id}/replay</code> - 庭审回放</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">数据表:</span>
                        <span><code>hearing_session</code>, <code>hearing_record</code>, <code>hearing_video</code></span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">技术依赖:</span>
                        <span>阿里云RTC（实时音视频）、WebRTC、语音识别API</span>
                    </div>
                </div>
            </div>

            <!-- 渠道管理模块 -->
            <div id="channel" class="section">
                <h2>8. 渠道管理模块</h2>

                <h3>8.1 渠道商管理</h3>
                
                <div class="req-box">
                    <h5>需求ID: CHANNEL-MGT-001 <span class="badge badge-p1">P1</span></h5>
                    <div class="req-item">
                        <span class="req-label">功能描述:</span>
                        <span>提供渠道商的入驻、审核、管理、绩效评估功能</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">业务场景:</span>
                        <span>品牌方需要管理授权渠道商，监控渠道商经营情况，评估渠道商绩效</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">功能清单:</span>
                        <ul style="margin-left: 100px;">
                            <li><strong>渠道商入驻</strong>：填写公司信息、上传资质证件</li>
                            <li><strong>资质审核</strong>：审核营业执照、经营许可证、资金实力</li>
                            <li><strong>渠道商档案</strong>：基本信息、联系信息、资质信息、授权信息</li>
                            <li><strong>经营数据</strong>：销售额、订单量、库存、退货率</li>
                            <li><strong>合规监控</strong>：巡查记录、问题记录、整改情况</li>
                            <li><strong>绩效评估</strong>：销售指标、合规指标、服务指标</li>
                            <li><strong>渠道统计</strong>：渠道数量、区域分布、类型分布</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">验收标准:</span>
                        <ul style="margin-left: 100px;">
                            <li>渠道商入驻审核周期 < 5个工作日</li>
                            <li>支持按区域、类型、状态筛选</li>
                            <li>经营数据实时同步，延迟 < 1小时</li>
                            <li>绩效评估自动计算，支持自定义权重</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">接口依赖:</span>
                        <ul style="margin-left: 100px;">
                            <li><code>POST /api/v1/channels</code> - 渠道商入驻</li>
                            <li><code>GET /api/v1/channels</code> - 查询渠道商列表</li>
                            <li><code>PUT /api/v1/channels/{id}/review</code> - 审核渠道商</li>
                            <li><code>GET /api/v1/channels/{id}/performance</code> - 获取绩效数据</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">数据表:</span>
                        <span><code>channel_info</code>, <code>channel_qualification</code>, <code>channel_performance</code></span>
                    </div>
                </div>
            </div>

            <!-- AI服务模块 -->
            <div id="ai-service" class="section">
                <h2>9. AI服务模块</h2>

                <h3>9.1 AI文书生成</h3>
                
                <div class="req-box">
                    <h5>需求ID: AI-DOC-001 <span class="badge badge-p1">P1</span></h5>
                    <div class="req-item">
                        <span class="req-label">功能描述:</span>
                        <span>基于AI大模型（通义千问）自动生成法律文书、鉴定报告、调解协议等文档。系统通过深度学习技术，学习海量法律文书样本，掌握法律文书的标准格式、常用表述、法律条文引用规则。用户只需输入案件基本信息，AI即可自动生成符合法律规范的文书初稿，大幅提高文书撰写效率。系统内置法律知识图谱，自动匹配相关法律条文、司法解释、典型案例，确保法律依据的准确性和权威性。支持文书的智能校对，自动检查格式错误、逻辑矛盾、法律条文引用错误。生成的文书需经人工审核确认后使用，确保文书质量。</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">业务场景:</span>
                        <div style="margin-left: 100px;">
                            <p><strong>场景1 - AI生成起诉状：</strong>律师李律师接到一起商标侵权案件，需要起草起诉状。李律师在系统中选择"AI生成起诉状"，填写案件基本信息：原告（某运动品牌公司）、被告（某批发商行）、案由（商标侵权）、侵权事实（被告销售假冒原告注册商标的运动鞋500双）、诉讼请求（停止侵权、赔偿损失50万元、赔礼道歉）。点击"生成"，系统AI在10秒内生成起诉状初稿，包含：标题（民事起诉状）、原告信息、被告信息、诉讼请求（格式规范、表述准确）、事实与理由（详细描述侵权事实、引用《商标法》第57条、第63条）、证据清单（自动关联案件证据）、此致XX人民法院、具状人签名、日期。李律师审核后，修改部分表述，确认无误后保存使用。</p>
                            <p><strong>场景2 - AI生成鉴定报告：</strong>专家王专家接到商品鉴定任务，需要出具鉴定报告。王专家在系统中选择"AI生成鉴定报告"，填写鉴定信息：委托方、鉴定商品（某品牌运动鞋）、鉴定方法（外观对比、材质检测、工艺分析）、鉴定结论（非正品）、鉴定依据（商标不清晰、材质劣质、工艺粗糙）。系统AI自动生成鉴定报告，包含：报告编号、委托方信息、鉴定商品信息、鉴定过程（详细描述检测步骤）、对比分析（正品与样品对比表格）、鉴定结论（明确结论）、鉴定依据（引用行业标准）、鉴定人签名、日期。王专家审核后，添加对比照片，确认后提交。</p>
                            <p><strong>场景3 - AI推荐法律条文：</strong>律师在撰写答辩状时，需要引用相关法律条文。律师输入案件关键词（商标侵权、合理使用），系统AI自动推荐相关法律条文：《商标法》第48条（商标的合理使用）、第59条（在先使用抗辩）、最高法司法解释相关条款。律师点击条文，系统自动插入到文书中，并标注条文来源。</p>
                            <p><strong>场景4 - AI推荐相似案例：</strong>律师在准备诉讼策略时，需要参考相似案例。律师在系统中输入案件信息，系统AI自动检索法律数据库，推荐10个相似案例（案由相同、事实相似、判决结果），显示案例摘要、裁判要点、判决结果。律师点击查看案例详情，学习法院的裁判思路，优化诉讼策略。</p>
                        </div>
                    </div>
                    <div class="req-item">
                        <span class="req-label">功能清单:</span>
                        <ul style="margin-left: 100px;">
                            <li><strong>文书类型</strong>：起诉状、答辩状、鉴定报告、调解协议、仲裁裁决书</li>
                            <li><strong>智能生成</strong>：输入案件信息，AI自动生成文书</li>
                            <li><strong>法律引用</strong>：自动引用相关法律条文、司法解释</li>
                            <li><strong>案例推荐</strong>：推荐相似案例、裁判文书</li>
                            <li><strong>人工审核</strong>：AI生成后人工审核、修改</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">验收标准:</span>
                        <ul style="margin-left: 100px;">
                            <li>文书生成时间 < 10秒</li>
                            <li>生成准确率 > 80%</li>
                            <li>支持10+文书类型</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">技术依赖:</span>
                        <span>通义千问大模型、法律知识图谱</span>
                    </div>
                </div>

                <h3>9.2 AI图像识别</h3>
                
                <div class="req-box">
                    <h5>需求ID: AI-IMAGE-001 <span class="badge badge-p1">P1</span></h5>
                    <div class="req-item">
                        <span class="req-label">功能描述:</span>
                        <span>基于AI视觉识别技术，自动识别商品真伪、商标侵权、OCR文字提取</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">功能清单:</span>
                        <ul style="margin-left: 100px;">
                            <li><strong>商品识别</strong>：识别商品类别、品牌、型号</li>
                            <li><strong>真伪鉴别</strong>：对比正品图片，识别假冒特征</li>
                            <li><strong>商标识别</strong>：识别商标、检测侵权</li>
                            <li><strong>OCR识别</strong>：识别证照、票据、文档</li>
                            <li><strong>相似度分析</strong>：计算图片相似度</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">验收标准:</span>
                        <ul style="margin-left: 100px;">
                            <li>识别准确率 > 90%</li>
                            <li>识别时间 < 3秒</li>
                            <li>OCR准确率 > 95%</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 数据分析模块 -->
            <div id="data-analysis" class="section">
                <h2>10. 数据分析模块</h2>

                <h3>10.1 业务数据统计</h3>
                
                <div class="req-box">
                    <h5>需求ID: DATA-STAT-001 <span class="badge badge-p1">P1</span></h5>
                    <div class="req-item">
                        <span class="req-label">功能描述:</span>
                        <span>提供多维度业务数据统计分析，支持自定义报表</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">功能清单:</span>
                        <ul style="margin-left: 100px;">
                            <li><strong>统计维度</strong>：时间、空间、品牌、渠道、人员</li>
                            <li><strong>统计指标</strong>：任务、巡查、证据、案件、纠纷、商城</li>
                            <li><strong>统计报表</strong>：日报、周报、月报、季报、年报</li>
                            <li><strong>趋势分析</strong>：同比、环比、趋势预测</li>
                            <li><strong>报表导出</strong>：Excel、PDF、图片</li>
                        </ul>
                    </div>
                </div>

                <h3>10.2 可视化看板</h3>
                
                <div class="req-box">
                    <h5>需求ID: DATA-DASH-001 <span class="badge badge-p1">P1</span></h5>
                    <div class="req-item">
                        <span class="req-label">功能描述:</span>
                        <span>提供可视化数据看板，支持多种图表类型和交互功能。系统基于ECharts/AntV G2图表库，提供丰富的数据可视化组件，包括折线图、柱状图、饼图、地图、热力图、雷达图、漏斗图、桑基图等。支持数据的多维度展示和交互式分析，用户可通过点击、筛选、钻取等操作深入分析数据。提供自定义看板功能，用户可根据需求自由组合图表组件，创建个性化的数据看板。看板数据实时更新，支持自动刷新和手动刷新。</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">业务场景:</span>
                        <div style="margin-left: 100px;">
                            <p><strong>场景1 - 品牌保护综合看板：</strong>品牌方总经理需要全面了解品牌保护工作情况。系统提供"品牌保护综合看板"，包含：核心指标卡片（本月巡查次数1200次↑15%、发现问题80起↓10%、立案数量5起、调解成功率75%）、巡查趋势图（折线图显示近12个月巡查次数和问题发现趋势）、问题分类饼图（假冒商品占50%、窜货占30%、价格违规占20%）、区域分布地图（热力图显示全国各省问题分布，华东地区最严重）。总经理点击地图上的华东地区，看板自动钻取显示华东地区的详细数据。</p>
                            <p><strong>场景2 - 自定义看板：</strong>品牌经理需要创建专属的品牌数据看板。点击"创建看板"，进入看板编辑器，从组件库中拖拽需要的图表组件到画布，配置每个组件的数据源，调整组件大小和位置。保存后，系统自动生成看板，数据实时更新。</p>
                        </div>
                    </div>
                    <div class="req-item">
                        <span class="req-label">功能清单:</span>
                        <ul style="margin-left: 100px;">
                            <li><strong>看板类型</strong>：综合看板、品牌看板、渠道看板、巡查看板、法律看板</li>
                            <li><strong>图表类型</strong>：折线图、柱状图、饼图、地图、热力图、雷达图</li>
                            <li><strong>交互功能</strong>：数据钻取、数据筛选、数据对比、数据导出</li>
                            <li><strong>自定义看板</strong>：拖拽布局、组件配置</li>
                        </ul>
                    </div>
                </div>

                <h3>10.3 数据预警</h3>
                
                <div class="req-box">
                    <h5>需求ID: DATA-ALERT-001 <span class="badge badge-p2">P2</span></h5>
                    <div class="req-item">
                        <span class="req-label">功能描述:</span>
                        <span>提供智能数据预警，及时发现异常情况</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">功能清单:</span>
                        <ul style="margin-left: 100px;">
                            <li><strong>预警类型</strong>：任务预警、证据预警、案件预警、合规预警、风险预警</li>
                            <li><strong>预警规则</strong>：阈值预警、趋势预警、规则预警、智能预警</li>
                            <li><strong>预警方式</strong>：系统通知、邮件、短信、电话、钉钉/企业微信</li>
                            <li><strong>预警处理</strong>：查看详情、标记处理、忽略预警</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 商城系统模块 -->
            <div id="mall" class="section">
                <h2>11. 商城系统模块</h2>

                <h3>11.1 订单管理</h3>
                
                <div class="req-box">
                    <h5>需求ID: MALL-ORDER-001 <span class="badge badge-p1">P1</span></h5>
                    <div class="req-item">
                        <span class="req-label">功能描述:</span>
                        <span>提供订单的创建、支付、发货、物流跟踪、确认收货、售后处理全流程管理</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">业务场景:</span>
                        <span>消费者在商城购买正品商品，商城管理员管理订单、处理售后</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">功能清单:</span>
                        <ul style="margin-left: 100px;">
                            <li><strong>订单创建</strong>：选择商品、填写地址、选择支付方式</li>
                            <li><strong>订单支付</strong>：支付宝、微信支付、银联支付</li>
                            <li><strong>订单管理</strong>：订单列表、订单详情、订单状态</li>
                            <li><strong>订单发货</strong>：填写物流信息、打印面单</li>
                            <li><strong>物流跟踪</strong>：实时查询物流信息</li>
                            <li><strong>确认收货</strong>：用户确认收货、自动确认</li>
                            <li><strong>订单评价</strong>：用户评价商品、服务</li>
                            <li><strong>订单统计</strong>：订单数量、销售额、退货率</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">验收标准:</span>
                        <ul style="margin-left: 100px;">
                            <li>订单创建时间 < 2秒</li>
                            <li>支付成功率 > 99%</li>
                            <li>物流信息更新延迟 < 1小时</li>
                            <li>订单超过7天未发货自动提醒</li>
                            <li>订单超过15天自动确认收货</li>
                            <li>支持订单导出、批量发货</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">接口依赖:</span>
                        <ul style="margin-left: 100px;">
                            <li><code>POST /api/v1/mall/orders</code> - 创建订单</li>
                            <li><code>GET /api/v1/mall/orders</code> - 查询订单列表</li>
                            <li><code>GET /api/v1/mall/orders/{id}</code> - 查询订单详情</li>
                            <li><code>POST /api/v1/mall/orders/{id}/pay</code> - 支付订单</li>
                            <li><code>POST /api/v1/mall/orders/{id}/ship</code> - 发货</li>
                            <li><code>GET /api/v1/mall/orders/{id}/logistics</code> - 查询物流</li>
                            <li><code>POST /api/v1/mall/orders/{id}/confirm</code> - 确认收货</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">数据表:</span>
                        <span><code>mall_order</code>, <code>order_item</code>, <code>order_logistics</code>, <code>order_payment</code></span>
                    </div>
                </div>

                <h3>11.2 维权申请管理（消费者端）</h3>
                
                <div class="req-box">
                    <h5>需求ID: MALL-RP-001 <span class="badge badge-p0">P0</span></h5>
                    <div class="req-item">
                        <span class="req-label">功能描述:</span>
                        <span>提供消费者维权申请的完整功能，包括维权申请提交、进度查询、证据补充、满意度评价等。系统支持假冒伪劣、质量问题、虚假宣传、服务纠纷等多种维权类型，通过智能分类和流程引导，帮助消费者快速提交维权申请。所有证据材料自动区块链存证，确保证据的真实性和法律效力。</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">业务场景:</span>
                        <div style="margin-left: 100px;">
                            <p><strong>场景1 - 假冒商品维权：</strong>消费者张三在商城购买某品牌运动鞋，收货后发现商标模糊、材质劣质，怀疑是假冒商品。张三通过订单详情页点击"申请维权"，选择维权类型"假冒伪劣"，上传商品照片、购买凭证等证据，填写问题描述，提交维权申请。系统自动生成维权编号RP20240115000001，并提示预计7个工作日内处理完成。</p>
                            <p><strong>场景2 - 质量问题维权：</strong>消费者李四购买的电子产品使用3天后出现功能故障。李四提交维权申请，选择"质量问题"类型，上传故障照片和使用视频，要求退货退款。系统自动分派给专家进行鉴定，李四可以实时查看处理进度。</p>
                            <p><strong>场景3 - 进度查询：</strong>消费者王五提交维权申请后，通过"我的维权"页面查看处理进度。系统以时间轴形式展示：已提交→已受理→调查中→鉴定中→已解决。王五可以看到每个环节的处理人、处理时间、处理内容。</p>
                        </div>
                    </div>
                    <div class="req-item">
                        <span class="req-label">功能清单:</span>
                        <ul style="margin-left: 100px;">
                            <li><strong>维权申请提交</strong>：选择维权类型（假冒伪劣、质量问题、虚假宣传、服务纠纷）、填写问题描述、上传证据材料、填写维权诉求</li>
                            <li><strong>智能表单</strong>：根据维权类型动态显示表单字段、智能生成维权标题、提供描述模板、自动计算维权金额</li>
                            <li><strong>证据上传</strong>：支持图片、视频、录音、文档上传，自动添加水印、自动区块链存证、生成存证证书</li>
                            <li><strong>维权列表</strong>：查看我的维权申请列表、按状态筛选、按时间筛选、搜索维权编号</li>
                            <li><strong>维权详情</strong>：查看维权完整信息、处理进度时间轴、证据材料展示、处理记录查看</li>
                            <li><strong>进度跟踪</strong>：实时查看处理进度、接收处理通知（APP推送、短信、邮件）、查看处理人信息</li>
                            <li><strong>证据补充</strong>：根据处理人要求补充证据材料</li>
                            <li><strong>确认解决</strong>：确认问题已解决、填写满意度评价</li>
                            <li><strong>撤销申请</strong>：未受理状态可撤销申请</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">验收标准:</span>
                        <ul style="margin-left: 100px;">
                            <li>维权申请提交成功率 > 99%</li>
                            <li>表单填写时间 < 5分钟</li>
                            <li>证据上传成功率 > 98%</li>
                            <li>图片上传速度 < 3秒/张（5MB以内）</li>
                            <li>支持至少20张图片、5个视频上传</li>
                            <li>所有证据自动区块链存证</li>
                            <li>维权列表加载时间 < 1秒</li>
                            <li>维权详情加载时间 < 500ms</li>
                            <li>进度更新实时推送，延迟 < 10秒</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">接口依赖:</span>
                        <ul style="margin-left: 100px;">
                            <li><code>POST /api/v1/mall/rights-protection</code> - 提交维权申请</li>
                            <li><code>GET /api/v1/mall/rights-protection</code> - 查询维权列表</li>
                            <li><code>GET /api/v1/mall/rights-protection/{id}</code> - 查询维权详情</li>
                            <li><code>POST /api/v1/mall/rights-protection/{id}/evidence</code> - 补充证据</li>
                            <li><code>POST /api/v1/mall/rights-protection/{id}/confirm</code> - 确认解决</li>
                            <li><code>DELETE /api/v1/mall/rights-protection/{id}</code> - 撤销申请</li>
                            <li><code>POST /api/v1/mall/evidence/upload</code> - 上传证据文件</li>
                            <li><code>POST /api/v1/mall/evidence/blockchain</code> - 区块链存证</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">数据表:</span>
                        <span><code>mall_rights_protection</code>, <code>rights_protection_evidence</code>, <code>rights_protection_process</code></span>
                    </div>
                </div>

                <h3>11.3 维权处理管理（后台管理端）</h3>
                
                <div class="req-box">
                    <h5>需求ID: MALL-RP-002 <span class="badge badge-p0">P0</span></h5>
                    <div class="req-item">
                        <span class="req-label">功能描述:</span>
                        <span>提供后台管理人员对维权申请的完整处理功能，包括维权受理、分派处理、流程跟踪、结果反馈等。系统支持多角色协同处理（客服、巡查员、专家、律师、调解员），通过智能分派和流程引擎，实现维权申请的高效处理。提供完整的维权台账和数据统计，支持维权工作的监控和分析。</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">业务场景:</span>
                        <div style="margin-left: 100px;">
                            <p><strong>场景1 - 客服受理：</strong>客服李四收到新的维权申请通知，打开维权管理列表，查看申请详情。李四初步判断为假冒商品问题，点击"受理"按钮，填写受理意见"已受理该维权申请，初步判断为假冒商品"，选择分派给巡查员王五进行现场核查，设置处理期限3天。系统自动通知王五，并更新维权状态为"调查中"。</p>
                            <p><strong>场景2 - 巡查员核查：</strong>巡查员王五收到分派任务，查看维权详情和证据材料，前往现场核查。核查完成后，王五在系统中提交核查报告，上传现场照片，判断为假冒商品，建议升级到专家鉴定。系统自动分派给专家张三。</p>
                            <p><strong>场景3 - 专家鉴定：</strong>专家张三收到鉴定任务，查看核查报告和证据，进行专业鉴定。鉴定完成后，张三出具鉴定报告，结论为"假冒商品"，建议退货退款并赔偿。系统自动通知客服处理退款。</p>
                            <p><strong>场景4 - 处理完成：</strong>客服李四根据鉴定报告，为消费者办理退货退款，并赔偿200元。李四在系统中标记"已解决"，上传退款凭证，填写处理说明。系统自动通知消费者确认，消费者确认后，系统自动结案。</p>
                        </div>
                    </div>
                    <div class="req-item">
                        <span class="req-label">功能清单:</span>
                        <ul style="margin-left: 100px;">
                            <li><strong>维权列表管理</strong>：查看所有维权申请、多维度筛选（状态、类型、优先级、处理人、时间）、搜索维权编号/申请人/商品、批量操作</li>
                            <li><strong>数据统计卡片</strong>：今日新增、待处理、处理中、已解决、超时数量，实时更新</li>
                            <li><strong>维权详情查看</strong>：查看完整维权信息、申请人信息、商品信息、证据材料、处理流程、分派记录</li>
                            <li><strong>维权受理</strong>：受理维权申请、填写受理意见、选择是否分派、设置优先级</li>
                            <li><strong>分派处理</strong>：分派给巡查员/专家/律师/调解员、填写分派原因和要求、设置处理期限、支持转派和协同</li>
                            <li><strong>添加处理记录</strong>：记录处理过程、上传处理附件、更新处理状态、通知相关人员</li>
                            <li><strong>标记解决</strong>：选择解决方式（退款、换货、赔偿、道歉）、上传解决凭证、填写解决说明</li>
                            <li><strong>结案归档</strong>：确认解决结果、填写结案总结、归档维权记录</li>
                            <li><strong>驳回申请</strong>：选择驳回原因、填写驳回说明、通知申请人</li>
                            <li><strong>升级处理</strong>：升级到纠纷处理、升级到法律诉讼、填写升级原因</li>
                            <li><strong>批量分派</strong>：批量选择维权申请、批量分派给处理人</li>
                            <li><strong>批量导出</strong>：导出维权数据为Excel/CSV/PDF格式</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">验收标准:</span>
                        <ul style="margin-left: 100px;">
                            <li>维权列表加载时间 < 1秒（1000条数据）</li>
                            <li>支持同时监控10000+维权申请</li>
                            <li>筛选响应时间 < 500ms</li>
                            <li>详情页加载时间 < 500ms</li>
                            <li>操作响应时间 < 1秒</li>
                            <li>批量操作支持1000条数据</li>
                            <li>导出10000条数据 < 30秒</li>
                            <li>实时通知延迟 < 10秒</li>
                            <li>支持7×24小时不间断处理</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">接口依赖:</span>
                        <ul style="margin-left: 100px;">
                            <li><code>GET /api/v1/admin/rights-protection</code> - 查询维权列表（后台）</li>
                            <li><code>GET /api/v1/admin/rights-protection/{id}</code> - 查询维权详情（后台）</li>
                            <li><code>POST /api/v1/admin/rights-protection/{id}/accept</code> - 受理维权</li>
                            <li><code>POST /api/v1/admin/rights-protection/{id}/assign</code> - 分派处理</li>
                            <li><code>POST /api/v1/admin/rights-protection/{id}/process</code> - 添加处理记录</li>
                            <li><code>POST /api/v1/admin/rights-protection/{id}/resolve</code> - 标记解决</li>
                            <li><code>POST /api/v1/admin/rights-protection/{id}/close</code> - 结案</li>
                            <li><code>POST /api/v1/admin/rights-protection/{id}/reject</code> - 驳回</li>
                            <li><code>POST /api/v1/admin/rights-protection/{id}/escalate</code> - 升级</li>
                            <li><code>POST /api/v1/admin/rights-protection/batch-assign</code> - 批量分派</li>
                            <li><code>GET /api/v1/admin/rights-protection/export</code> - 导出数据</li>
                            <li><code>GET /api/v1/admin/rights-protection/statistics</code> - 统计数据</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">数据表:</span>
                        <span><code>mall_rights_protection</code>, <code>rights_protection_process</code>, <code>rights_protection_assignment</code>, <code>rights_protection_ledger</code></span>
                    </div>
                </div>

                <h3>11.4 维权台账管理</h3>
                
                <div class="req-box">
                    <h5>需求ID: MALL-RP-003 <span class="badge badge-p1">P1</span></h5>
                    <div class="req-item">
                        <span class="req-label">功能描述:</span>
                        <span>提供完整的维权台账管理功能，记录所有维权申请的全生命周期数据。台账包含维权基本信息、处理过程、时间节点、涉及角色、处理结果、满意度等完整信息。支持多维度统计分析，为维权工作提供数据支持和决策依据。台账数据自动归档，支持长期保存和审计查询。</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">业务场景:</span>
                        <div style="margin-left: 100px;">
                            <p><strong>场景1 - 台账查询：</strong>管理员需要查看本月的维权处理情况。打开台账管理页面，筛选时间范围为"本月"，系统显示本月所有维权记录，包括维权编号、申请人、商品、类型、金额、状态、处理人、耗时等信息。管理员可以按状态、类型、处理人等维度进一步筛选。</p>
                            <p><strong>场景2 - 数据导出：</strong>管理员需要导出本季度的维权数据用于分析。选择时间范围"本季度"，勾选需要导出的字段（维权编号、申请人、商品、类型、金额、状态、处理结果、满意度等），选择导出格式Excel，点击导出。系统生成Excel文件并下载。</p>
                            <p><strong>场景3 - 统计分析：</strong>管理员需要分析维权类型分布和处理效率。打开台账统计页面，查看维权类型分布饼图（假冒伪劣30%、质量问题25%、虚假宣传15%、服务纠纷20%、其他10%），查看平均处理时长趋势图，查看各处理人的处理数量和满意度排名。</p>
                        </div>
                    </div>
                    <div class="req-item">
                        <span class="req-label">功能清单:</span>
                        <ul style="margin-left: 100px;">
                            <li><strong>台账列表</strong>：展示所有维权台账记录、支持分页查询、支持多维度筛选、支持排序</li>
                            <li><strong>台账详情</strong>：查看单条台账的完整信息、包含所有处理节点和时间</li>
                            <li><strong>台账统计</strong>：统计维权数量、处理时长、超时情况、满意度等指标</li>
                            <li><strong>数据导出</strong>：导出台账数据为Excel/CSV格式、支持自定义导出字段</li>
                            <li><strong>图表分析</strong>：维权类型分布、状态分布、处理结果分布、时间趋势分析</li>
                            <li><strong>处理人分析</strong>：各处理人的处理数量、平均时长、满意度排名</li>
                            <li><strong>部门分析</strong>：各部门的处理数量、平均时长、解决率</li>
                            <li><strong>超时预警</strong>：超时维权列表、超时原因分析、超时趋势</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">验收标准:</span>
                        <ul style="margin-left: 100px;">
                            <li>台账列表加载时间 < 1秒（10000条数据）</li>
                            <li>支持查询100万+历史台账数据</li>
                            <li>统计图表生成时间 < 2秒</li>
                            <li>导出10000条数据 < 30秒</li>
                            <li>支持按日、周、月、季、年统计</li>
                            <li>台账数据保存期限 ≥ 5年</li>
                            <li>支持台账数据审计查询</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">接口依赖:</span>
                        <ul style="margin-left: 100px;">
                            <li><code>GET /api/v1/admin/rights-protection/ledger</code> - 查询台账列表</li>
                            <li><code>GET /api/v1/admin/rights-protection/ledger/{id}</code> - 查询台账详情</li>
                            <li><code>GET /api/v1/admin/rights-protection/ledger/statistics</code> - 台账统计</li>
                            <li><code>GET /api/v1/admin/rights-protection/ledger/export</code> - 导出台账</li>
                            <li><code>GET /api/v1/admin/rights-protection/ledger/charts</code> - 统计图表数据</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">数据表:</span>
                        <span><code>rights_protection_ledger</code></span>
                    </div>
                </div>

                <h3>11.5 维权数据统计</h3>
                
                <div class="req-box">
                    <h5>需求ID: MALL-RP-004 <span class="badge badge-p1">P1</span></h5>
                    <div class="req-item">
                        <span class="req-label">功能描述:</span>
                        <span>提供全面的维权数据统计和分析功能，包括维权数量趋势、类型分布、处理效率、满意度分析等多个维度。通过可视化图表展示数据，帮助管理者了解维权工作现状，发现问题，优化流程。支持自定义统计维度和时间范围，支持数据钻取和对比分析。</span>
                    </div>
                    <div class="req-item">
                        <span class="req-label">功能清单:</span>
                        <ul style="margin-left: 100px;">
                            <li><strong>数量统计</strong>：总数、新增数、解决数、结案数、待处理数、超时数</li>
                            <li><strong>类型分布</strong>：假冒伪劣、质量问题、虚假宣传、服务纠纷、其他的数量和占比</li>
                            <li><strong>状态分布</strong>：各状态的维权数量和占比</li>
                            <li><strong>处理效率</strong>：平均处理时长、最长时长、最短时长、超时率</li>
                            <li><strong>满意度分析</strong>：平均满意度、满意度分布（1-5星）、满意度趋势</li>
                            <li><strong>处理结果</strong>：退款、换货、赔偿、驳回等结果的数量和占比</li>
                            <li><strong>金额统计</strong>：总金额、平均金额、已退款金额、已赔偿金额</li>
                            <li><strong>时间趋势</strong>：按日/周/月/季/年统计维权数量趋势</li>
                            <li><strong>处理人排名</strong>：处理数量排名、处理时长排名、满意度排名</li>
                            <li><strong>部门排名</strong>：各部门处理数量、平均时长、解决率排名</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">验收标准:</span>
                        <ul style="margin-left: 100px;">
                            <li>统计数据实时更新，延迟 < 1分钟</li>
                            <li>图表加载时间 < 2秒</li>
                            <li>支持自定义时间范围统计</li>
                            <li>支持数据钻取和对比分析</li>
                            <li>支持导出统计报表</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">接口依赖:</span>
                        <ul style="margin-left: 100px;">
                            <li><code>GET /api/v1/admin/rights-protection/statistics/overview</code> - 概览统计</li>
                            <li><code>GET /api/v1/admin/rights-protection/statistics/type</code> - 类型统计</li>
                            <li><code>GET /api/v1/admin/rights-protection/statistics/status</code> - 状态统计</li>
                            <li><code>GET /api/v1/admin/rights-protection/statistics/efficiency</code> - 效率统计</li>
                            <li><code>GET /api/v1/admin/rights-protection/statistics/satisfaction</code> - 满意度统计</li>
                            <li><code>GET /api/v1/admin/rights-protection/statistics/trend</code> - 趋势统计</li>
                            <li><code>GET /api/v1/admin/rights-protection/statistics/ranking</code> - 排名统计</li>
                        </ul>
                    </div>
                    <div class="req-item">
                        <span class="req-label">数据表:</span>
                        <span><code>mall_rights_protection</code>, <code>rights_protection_ledger</code></span>
                    </div>
                </div>
            </div>

            <!-- 非功能需求 -->
            <div id="non-functional" class="section">
                <h2>12. 非功能需求</h2>

                <h3>9.1 性能需求</h3>
                
                <div class="highlight-box">
                    <h4>响应时间要求</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>操作类型</th>
                                <th>响应时间</th>
                                <th>说明</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>页面加载</td>
                                <td>< 2秒</td>
                                <td>首屏加载时间（P95）</td>
                            </tr>
                            <tr>
                                <td>列表查询</td>
                                <td>< 1秒</td>
                                <td>1000条数据以内</td>
                            </tr>
                            <tr>
                                <td>详情查询</td>
                                <td>< 500ms</td>
                                <td>单条数据查询</td>
                            </tr>
                            <tr>
                                <td>数据提交</td>
                                <td>< 1秒</td>
                                <td>表单提交、数据保存</td>
                            </tr>
                            <tr>
                                <td>文件上传</td>
                                <td>< 10秒</td>
                                <td>10MB文件上传</td>
                            </tr>
                            <tr>
                                <td>报表生成</td>
                                <td>< 5秒</td>
                                <td>复杂报表生成</td>
                            </tr>
                            <tr>
                                <td>音视频延迟</td>
                                <td>< 200ms</td>
                                <td>在线庭审、调解</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="highlight-box">
                    <h4>并发性能要求</h4>
                    <ul>
                        <li><strong>并发用户数</strong>：支持10万+在线用户</li>
                        <li><strong>API吞吐量</strong>：10000 QPS（每秒请求数）</li>
                        <li><strong>数据库连接</strong>：支持1000+并发连接</li>
                        <li><strong>消息队列</strong>：支持10万+消息/秒</li>
                        <li><strong>文件存储</strong>：支持1000+并发上传</li>
                    </ul>
                </div>

                <div class="highlight-box">
                    <h4>容量要求</h4>
                    <ul>
                        <li><strong>用户规模</strong>：支持100万+注册用户</li>
                        <li><strong>数据存储</strong>：支持10TB+数据存储</li>
                        <li><strong>文件存储</strong>：支持100TB+文件存储</li>
                        <li><strong>日志存储</strong>：支持1年以上日志保存</li>
                        <li><strong>数据增长</strong>：支持每年100%数据增长</li>
                    </ul>
                </div>

                <h3>9.2 安全需求</h3>
                
                <div class="warning-box">
                    <h4>等级保护要求</h4>
                    <p>系统需通过<strong>等保三级</strong>认证，满足《网络安全等级保护基本要求》第三级标准。</p>
                </div>

                <div class="highlight-box">
                    <h4>身份认证与访问控制</h4>
                    <ul>
                        <li><strong>身份认证</strong>：OAuth 2.0 + JWT，支持多因素认证（MFA）</li>
                        <li><strong>密码策略</strong>：长度≥8位，包含大小写字母、数字、特殊字符</li>
                        <li><strong>密码有效期</strong>：90天强制修改密码</li>
                        <li><strong>登录保护</strong>：5次失败锁定30分钟，异地登录提醒</li>
                        <li><strong>权限控制</strong>：RBAC模型，支持菜单权限、功能权限、数据权限</li>
                        <li><strong>会话管理</strong>：30分钟无操作自动登出，支持单点登录（SSO）</li>
                    </ul>
                </div>

                <div class="highlight-box">
                    <h4>数据安全</h4>
                    <ul>
                        <li><strong>传输加密</strong>：TLS 1.3，所有数据传输加密</li>
                        <li><strong>存储加密</strong>：AES-256加密，敏感数据加密存储</li>
                        <li><strong>数据脱敏</strong>：手机号、身份证号、银行卡号脱敏显示</li>
                        <li><strong>数据备份</strong>：每日全量备份 + 实时增量备份</li>
                        <li><strong>数据恢复</strong>：RPO < 1小时，RTO < 4小时</li>
                        <li><strong>数据销毁</strong>：用户注销后数据安全销毁</li>
                    </ul>
                </div>

                <div class="highlight-box">
                    <h4>安全防护</h4>
                    <ul>
                        <li><strong>防SQL注入</strong>：参数化查询、输入验证</li>
                        <li><strong>防XSS攻击</strong>：输出编码、CSP策略</li>
                        <li><strong>防CSRF攻击</strong>：Token验证、SameSite Cookie</li>
                        <li><strong>防DDoS攻击</strong>：CDN防护、流量清洗</li>
                        <li><strong>防暴力破解</strong>：验证码、限流、IP黑名单</li>
                        <li><strong>防文件上传漏洞</strong>：文件类型检查、大小限制、病毒扫描</li>
                    </ul>
                </div>

                <div class="highlight-box">
                    <h4>审计与监控</h4>
                    <ul>
                        <li><strong>操作日志</strong>：记录所有用户操作，保存3年</li>
                        <li><strong>审计日志</strong>：记录敏感操作、数据变更，保存5年</li>
                        <li><strong>安全监控</strong>：实时监控异常登录、异常操作</li>
                        <li><strong>入侵检测</strong>：IDS/IPS系统，实时告警</li>
                        <li><strong>漏洞扫描</strong>：定期漏洞扫描、渗透测试</li>
                    </ul>
                </div>

                <h3>9.3 可用性需求</h3>
                
                <div class="highlight-box">
                    <h4>系统可用性</h4>
                    <ul>
                        <li><strong>可用性目标</strong>：99.95%（年停机时间 < 4.38小时）</li>
                        <li><strong>故障恢复时间</strong>：MTTR < 30分钟</li>
                        <li><strong>故障间隔时间</strong>：MTBF > 720小时（30天）</li>
                        <li><strong>服务降级</strong>：核心功能优先保障，非核心功能可降级</li>
                        <li><strong>熔断机制</strong>：依赖服务故障时自动熔断，防止雪崩</li>
                    </ul>
                </div>

                <div class="highlight-box">
                    <h4>容灾备份</h4>
                    <ul>
                        <li><strong>异地容灾</strong>：双活数据中心，异地灾备</li>
                        <li><strong>数据备份</strong>：每日全量备份，实时增量备份</li>
                        <li><strong>备份验证</strong>：定期备份恢复演练</li>
                        <li><strong>应急预案</strong>：制定应急预案，定期演练</li>
                    </ul>
                </div>

                <h3>9.4 可扩展性需求</h3>
                
                <div class="highlight-box">
                    <h4>架构可扩展性</h4>
                    <ul>
                        <li><strong>微服务架构</strong>：服务拆分、独立部署、独立扩展</li>
                        <li><strong>水平扩展</strong>：支持服务器水平扩展，无状态设计</li>
                        <li><strong>弹性伸缩</strong>：根据负载自动扩缩容</li>
                        <li><strong>多租户支持</strong>：支持多租户隔离、数据隔离</li>
                        <li><strong>插件化设计</strong>：支持功能插件化、热插拔</li>
                    </ul>
                </div>

                <div class="highlight-box">
                    <h4>业务可扩展性</h4>
                    <ul>
                        <li><strong>多品牌支持</strong>：支持管理多个品牌</li>
                        <li><strong>多区域支持</strong>：支持多区域部署、就近访问</li>
                        <li><strong>多语言支持</strong>：支持中英文、可扩展其他语言</li>
                        <li><strong>多终端支持</strong>：Web、移动端、小程序</li>
                        <li><strong>第三方集成</strong>：开放API、支持第三方系统集成</li>
                    </ul>
                </div>

                <h3>9.5 兼容性需求</h3>
                
                <div class="highlight-box">
                    <h4>浏览器兼容性</h4>
                    <ul>
                        <li><strong>Chrome</strong>：最新版本及前2个版本</li>
                        <li><strong>Edge</strong>：最新版本及前2个版本</li>
                        <li><strong>Firefox</strong>：最新版本及前2个版本</li>
                        <li><strong>Safari</strong>：最新版本及前2个版本</li>
                        <li><strong>分辨率</strong>：支持1920x1080及以上分辨率</li>
                    </ul>
                </div>

                <div class="highlight-box">
                    <h4>移动端兼容性</h4>
                    <ul>
                        <li><strong>iOS</strong>：iOS 12及以上版本</li>
                        <li><strong>Android</strong>：Android 8.0及以上版本</li>
                        <li><strong>屏幕尺寸</strong>：支持4.7寸至6.7寸屏幕</li>
                        <li><strong>分辨率</strong>：支持720P至2K分辨率</li>
                    </ul>
                </div>

                <h3>9.6 合规性需求</h3>
                
                <div class="warning-box">
                    <h4>法律法规合规</h4>
                    <ul>
                        <li><strong>《网络安全法》</strong>：网络安全等级保护、数据安全</li>
                        <li><strong>《数据安全法》</strong>：数据分类分级、数据安全管理</li>
                        <li><strong>《个人信息保护法》</strong>：个人信息收集、使用、存储、删除</li>
                        <li><strong>《电子签名法》</strong>：电子签名、电子合同法律效力</li>
                        <li><strong>《商标法》</strong>：商标保护、侵权认定</li>
                        <li><strong>《反不正当竞争法》</strong>：不正当竞争行为认定</li>
                        <li><strong>《仲裁法》</strong>：仲裁程序、裁决效力</li>
                    </ul>
                </div>

                <div class="highlight-box">
                    <h4>司法存证合规</h4>
                    <ul>
                        <li><strong>证据标准</strong>：符合《民事诉讼法》证据要求</li>
                        <li><strong>电子证据</strong>：符合《电子证据规定》要求</li>
                        <li><strong>区块链存证</strong>：使用司法认可的区块链平台</li>
                        <li><strong>时间戳</strong>：使用国家授时中心时间戳</li>
                        <li><strong>电子签名</strong>：使用CA认证的电子签名</li>
                    </ul>
                </div>

                <h3>9.7 运维需求</h3>
                
                <div class="highlight-box">
                    <h4>监控告警</h4>
                    <ul>
                        <li><strong>系统监控</strong>：CPU、内存、磁盘、网络监控</li>
                        <li><strong>应用监控</strong>：接口性能、错误率、调用链追踪</li>
                        <li><strong>业务监控</strong>：核心业务指标监控</li>
                        <li><strong>日志监控</strong>：错误日志、异常日志监控</li>
                        <li><strong>告警通知</strong>：短信、邮件、钉钉、企业微信</li>
                    </ul>
                </div>

                <div class="highlight-box">
                    <h4>部署运维</h4>
                    <ul>
                        <li><strong>容器化部署</strong>：Docker + Kubernetes</li>
                        <li><strong>CI/CD</strong>：自动化构建、测试、部署</li>
                        <li><strong>灰度发布</strong>：支持灰度发布、蓝绿部署</li>
                        <li><strong>配置管理</strong>：配置中心、动态配置</li>
                        <li><strong>日志管理</strong>：集中日志收集、分析、查询</li>
                    </ul>
                </div>
            </div>

        </div>

        <div class="footer">
            <h3>文档信息</h3>
            <p><strong>文档名称</strong>：品牌保护生态系统 - 完整产品需求文档</p>
            <p><strong>文档版本</strong>：v2.0</p>
            <p><strong>创建日期</strong>：2024-01-01</p>
            <p><strong>最后更新</strong>：2024-01-15</p>
            <p><strong>文档所有者</strong>：产品团队 + 技术团队</p>
            <p><strong>审核状态</strong>：已审核通过</p>
            <hr style="margin: 20px 0; border: none; border-top: 1px solid #ddd;">
            <p style="font-size: 12px; color: #999;">本文档为内部机密文档，未经授权不得外传</p>
            <p style="font-size: 12px; color: #999;">© 2024 品牌保护生态系统. All Rights Reserved.</p>
        </div>
    </div>
</body>
</html>
